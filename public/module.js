var Example=Example||{};Example.module=webpackJsonpExample__name_([1,0],[function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _eev = __webpack_require__(19);\n\nvar _eev2 = _interopRequireDefault(_eev);\n\nvar _style = __webpack_require__(20);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _tools = __webpack_require__(14);\n\nvar _settings = __webpack_require__(1);\n\nvar _interactive = __webpack_require__(10);\n\nvar _interactive2 = _interopRequireDefault(_interactive);\n\nvar _events = __webpack_require__(6);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _template = __webpack_require__(13);\n\nvar _importImage = __webpack_require__(9);\n\nvar _iconDrag = __webpack_require__(8);\n\nvar _utils = __webpack_require__(17);\n\nvar _responsive = __webpack_require__(12);\n\nvar _tuts = __webpack_require__(15);\n\nvar _dialog = __webpack_require__(4);\n\nvar _label = __webpack_require__(11);\n\nvar _label2 = _interopRequireDefault(_label);\n\nvar _eraser = __webpack_require__(5);\n\nvar _eraser2 = _interopRequireDefault(_eraser);\n\nvar _grid = __webpack_require__(7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _responsive.responsive)();\n\nvar canvas = new fabric.Canvas('c', { selection: false, backgroundColor: \"#ffffff\" });\n\n// variables declaration\nvar line = undefined,\n    room = undefined,\n    isDown = undefined;\n\nvar rectCoord = { x: null, y: null };\nvar furnitureURL = null;\nvar labelTag = null;\nvar STATE = null;\nvar Event = new _eev2.default();\nvar SELECTED = false;\nvar REDO = false;\nvar undoList = [];\nvar importedImagePath = [];\nvar selectedLabel = null;\nvar labelConfig = {\n    fontSize: 15,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n};\nvar eraserConfig = {\n    eraserSize: 15,\n    eraserStyle: 'pencil'\n};\nvar measureBar;\n\n// end variables\n(0, _dialog.initDialog)(canvas);\n(0, _interactive2.default)(Event);\n//fetchIcons(Event);\n(0, _importImage.loadingImage)(canvas);\n(0, _iconDrag.iconDrag)(canvas, Event, STATE, furnitureURL, labelTag, labelConfig);\n(0, _settings.accordion)();\n(0, _importImage.downloadImage)(canvas, Event);\n(0, _importImage.asyncFloorplan)(Event, canvas);\n(0, _utils.initIntro)();\n(0, _label2.default)(labelConfig, Event);\n(0, _eraser2.default)(eraserConfig, Event);\n//drawGrid(canvas, 25, gridGroup);\n\nfabric.loadSVGFromURL('tools/measurebar.svg', function (objects, options) {\n    measureBar = fabric.util.groupSVGElements(objects, options);\n    measureBar.scale(0.5);\n    canvas.add(measureBar);\n});\n\ncanvas.on('mouse:down', function (o) {\n    isDown = true;\n    switch (STATE) {\n        case _events2.default.LINE:\n            line = (0, _tools.drawLine)(canvas, o);\n            canvas.add(line);\n            break;\n        case _events2.default.ROOM:\n            rectCoord.x = o.e.offsetX;\n            rectCoord.y = o.e.offsetY;\n\n            room = (0, _tools.drawRoom)(canvas, o);\n            canvas.add(room);\n            break;\n        case _events2.default.LABEL:\n            furnitureURL = null;\n            console.log(selectedLabel !== null);\n            if (selectedLabel === null) {\n                canvas.add(new fabric.IText('TAP_HERE', {\n                    fontFamily: \"'Roboto', sans-serif\",\n                    left: o.e.offsetX,\n                    top: o.e.offsetY,\n                    fontSize: labelConfig.fontSize,\n                    fontWeight: labelConfig.fontWeight,\n                    fontStyle: labelConfig.fontStyle,\n                    hasBorders: true,\n                    hasControls: false,\n                    borderColor: '#2c3e50',\n                    cornerColor: '#2c3e50',\n                    cornerSize: 3,\n                    transparentCorners: false\n                }));\n            }\n            break;\n        case _events2.default.FURNITURE:\n            labelTag = null;\n            break;\n    }\n});\n\ncanvas.on('object:selected', function (event) {\n    var type = event.target.get('type');\n    if (type === 'i-text') {\n        selectedLabel = event.target;\n    } else {\n        selectedLabel = null;\n        STATE = null;\n    }\n});\ncanvas.on('selection:cleared', function () {\n    selectedLabel = null;\n});\ndocument.querySelector('.canvas-container').addEventListener('touchstart', function (event) {\n    var rect = this.getBoundingClientRect();\n    var o = {\n        x: event.touches[0].clientX - rect.left,\n        y: event.touches[0].clientY - rect.top\n    };\n\n    isDown = true;\n    switch (STATE) {\n        case _events2.default.LINE:\n            line = (0, _tools.drawLine)(canvas, o);\n            canvas.add(line);\n            break;\n        case _events2.default.ROOM:\n            rectCoord.x = o.x;\n            rectCoord.y = o.y;\n\n            room = (0, _tools.drawRoom)(canvas, o);\n            canvas.add(room);\n            break;\n        case _events2.default.LABEL:\n            canvas.add(new fabric.IText('TAP_HERE', {\n                fontFamily: \"'Roboto', sans-serif\",\n                left: 500,\n                top: 500,\n                fontSize: labelConfig.fontSize,\n                fontWeight: labelConfig.fontWeight,\n                fontStyle: labelConfig.fontStyle,\n                hasBorders: true,\n                hasControls: false,\n                borderColor: '#2c3e50',\n                cornerColor: '#2c3e50',\n                cornerSize: 3,\n                transparentCorners: false\n            }));\n            var lastIndex = canvas._objects.length;\n            canvas.setActiveObject(canvas.item(lastIndex - 1));\n            break;\n        case _events2.default.FURNITURE:\n            break;\n        case _events2.default.DRAG_FURNITURE:\n            break;\n        case _events2.default.DODDLE:\n            var circle = new fabric.Circle({\n                radius: 2,\n                left: o.x,\n                top: o.y,\n                fill: '',\n                stroke: 'black',\n                strokeWidth: 3,\n                originX: 'center',\n                originY: 'center'\n            });\n            canvas.add(circle);\n            break;\n\n    }\n});\ncanvas.on('touch:drag', function (o) {\n    if (!isDown) return;\n    var pointer = o.self;\n    switch (STATE) {\n        case _events2.default.LINE:\n            line.set({ x2: pointer.x, y2: pointer.y });\n            break;\n        case _events2.default.ROOM:\n            if (rectCoord.x > pointer.x) {\n                room.set({ left: Math.abs(pointer.x) });\n            }\n            if (rectCoord.y > pointer.y) {\n                room.set({ top: Math.abs(pointer.y) });\n            }\n            room.set({ width: Math.abs(rectCoord.x - pointer.x) });\n            room.set({ height: Math.abs(rectCoord.y - pointer.y) });\n            break;\n        case _events2.default.DODDLE:\n            break;\n    }\n\n    canvas.renderAll();\n});\n\ncanvas.on('mouse:move', function (o) {\n    if (!isDown) return;\n    var pointer = canvas.getPointer(o.e);\n\n    switch (STATE) {\n        case _events2.default.LINE:\n            line.set({ x2: pointer.x, y2: pointer.y });\n            break;\n        case _events2.default.ROOM:\n            if (rectCoord.x > pointer.x) {\n                room.set({ left: Math.abs(pointer.x) });\n            }\n            if (rectCoord.y > pointer.y) {\n                room.set({ top: Math.abs(pointer.y) });\n            }\n\n            room.set({ width: Math.abs(rectCoord.x - pointer.x) });\n            room.set({ height: Math.abs(rectCoord.y - pointer.y) });\n            break;\n\n    }\n\n    canvas.renderAll();\n});\n\ncanvas.on('mouse:up', function (o) {\n    isDown = false;\n});\n\ncanvas.on('path:created', function (object) {\n    if (canvas.isDrawingMode) {\n        // console.log(object);\n        var lastIndex = canvas._objects.length;\n\n        canvas.item(lastIndex - 1).selectable = false;\n        canvas.renderAll();\n    }\n});\ncanvas.on('object:moving', function (object) {\n    if (object.target.id === 'imported') {\n        var floorplan = object.target;\n        var pathXY = { top: floorplan.get('top'), left: floorplan.get('left') };\n        //console.log(pathXY);\n        importedImagePath.push(pathXY);\n        if (importedImagePath, length === 2) {\n            var vector = [importedImagePath[importedImagePath.length - 1].top - importedImagePath[importedImagePath.length - 2].top, importedImagePath[importedImagePath.length - 1].left - importedImagePath[importedImagePath.length - 2].left];\n            (0, _utils.moveVector)(canvas, vector);\n        }\n        if (importedImagePath.length > 2) {\n            importedImagePath.shift();\n            var vector = [importedImagePath[importedImagePath.length - 1].top - importedImagePath[importedImagePath.length - 2].top, importedImagePath[importedImagePath.length - 1].left - importedImagePath[importedImagePath.length - 2].left];\n            (0, _utils.moveVector)(canvas, vector);\n        }\n    }\n});\nEvent.on('TOOL_CHANGE', function (role) {\n    console.log(role, STATE);\n    if (STATE === role) {\n        STATE = null;\n    } else {\n        STATE = role;\n    }\n\n    if (STATE === _events2.default.FURNITURE) {\n        document.querySelector('.gallery').style.transform = 'translateX(0px)';\n    } else {\n        document.querySelector('.gallery').style.transform = 'translateX(200px)';\n    }\n\n    if (STATE === _events2.default.CLEAR) {\n        (0, _dialog.showDialog)();\n    }\n    if (STATE === _events2.default.ERASER) {\n        canvas.isDrawingMode = true;\n        canvas.freeDrawingBrush = (0, _eraser.parseEraserConfig)(eraserConfig, canvas).style;\n        canvas.freeDrawingBrush.color = 'white';\n        canvas.freeDrawingBrush.width = (0, _eraser.parseEraserConfig)(eraserConfig, canvas).size;\n    } else {\n        if (STATE === _events2.default.DODDLE) {\n            canvas.freeDrawingBrush = new fabric['PencilBrush'](canvas);\n            canvas.freeDrawingBrush.color = 'black';\n            canvas.freeDrawingBrush.width = 3;\n            canvas.isDrawingMode = true;\n        } else {\n            canvas.isDrawingMode = false;\n        }\n    }\n    if (role === _events2.default.UNDO) {\n        (0, _utils.undo)(canvas, undoList);\n    }\n    if (role === _events2.default.REDO) {\n        (0, _utils.redo)(canvas, undoList, REDO);\n    }\n    if (STATE === _events2.default.DRAWING) {\n        document.getElementById('templates').style.left = '0px';\n        document.getElementById('drawing').style.left = '70px';\n    }\n\n    if (role === _events2.default.TEMPLATES) {\n        document.getElementById('drawing').style.left = '0px';\n        document.getElementById('templates').style.left = '70px';\n    }\n\n    if (role === _events2.default.LABEL) {\n        document.querySelector('.label-controller').style.transform = 'translateX(0px)';\n    } else {\n        document.querySelector('.label-controller').style.transform = 'translateX(200px)';\n    }\n    if (role === _events2.default.ERASER) {\n        document.querySelector('.eraser-controller').style.transform = 'translateX(0px)';\n    } else {\n        document.querySelector('.eraser-controller').style.transform = 'translateX(200px)';\n    }\n    if (STATE === null) {\n        canvas.getObjects().map(function (object) {\n            if (object.id === 'imported') {\n                object.set({\n                    selectable: true\n                });\n            }\n        });\n\n        document.getElementById('templates').style.left = '0px';\n        document.getElementById('drawing').style.left = '0px';\n        document.querySelector('.label-controller').style.transform = 'translateX(200px)';\n        document.querySelector('.eraser-controller').style.transform = 'translateX(200px)';\n    } else {\n        canvas.getObjects().map(function (object) {\n            if (object.id === 'imported') {\n                object.set({\n                    selectable: false\n                });\n            }\n        });\n    }\n});\n\nEvent.on('ICON_CHANGE', function (iconURL) {\n    STATE = _events2.default.FURNITURE;\n    furnitureURL = iconURL;\n});\nEvent.on('ICON_DRAG_START', function (iconURL) {\n    furnitureURL = iconURL;\n});\n\nEvent.on(_events2.default.CHANGE_TEMPLATE, function (template) {\n    canvas.clear();\n    switch (template) {\n        case 'STUDIO':\n            (0, _template.studio)(canvas);\n            break;\n        case 'ONE BEDROOM':\n            (0, _template.oneBR)(canvas);\n            break;\n        case 'TWO BEDROOM':\n            (0, _template.twoBR)(canvas);\n            break;\n        case 'THREE BEDROOM':\n            (0, _template.threeBR)(canvas);\n            break;\n        case 'FOUR BEDROOM':\n            //fourBR(canvas);\n            break;\n    }\n});\nEvent.on('LABEL_CONFIG_CHANGED', function () {\n    if (selectedLabel.selected) {\n        selectedLabel.set({\n            fontSize: labelConfig.fontSize,\n            fontWeight: labelConfig.fontWeight,\n            fontStyle: labelConfig.fontStyle\n        });\n        canvas.renderAll();\n    }\n});\nEvent.on('ERASER_CONFIG_CHANGED', function () {\n    canvas.isDrawingMode = true;\n    canvas.freeDrawingBrush = (0, _eraser.parseEraserConfig)(eraserConfig, canvas).style;\n    canvas.freeDrawingBrush.color = 'white';\n    canvas.freeDrawingBrush.width = (0, _eraser.parseEraserConfig)(eraserConfig, canvas).size;\n    //console.log(parseEraserConfig(eraserConfig, canvas));\n    canvas.renderAll();\n    //console.log(canvas.freeDrawingBrush);\n});\ncanvas.on('object:selected', function (event) {\n    var className = event.target.get('type');\n    if (className === 'i-text') {\n        SELECTED = true;\n    }\n});\ncanvas.on('selection:cleared', function (event) {\n    SELECTED = false;\n});\n\ncanvas.on('object:added', function () {\n    if (!REDO) {\n        undoList = [];\n    }\n    REDO = true;\n});\n\ncanvas.on(\"mouse:up\", function () {\n    if (measureBar != null && measureBar !== undefined) {\n        measureBar.bringToFront();\n    }\n});\ndocument.body.addEventListener('keydown', function (event) {\n    if (event.keyCode === 46 && canvas.getActiveObject() !== null) {\n        canvas.getActiveObject().remove();\n    }\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXguanM/MWZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2Vldic7XHJcbmltcG9ydCBzdHlsZSBmcm9tICcuL3Nhc3Mvc3R5bGUuc2Nzcyc7XHJcbmltcG9ydCB7IGRyYXdMaW5lLCBkcmF3Um9vbSB9IGZyb20gJy4vYXBwL3Rvb2xzJztcclxuaW1wb3J0IHsgZmV0Y2hJY29ucywgYWNjb3JkaW9uIH0gZnJvbSAnLi9hcHAvc2V0dGluZ3MnO1xyXG5pbXBvcnQgaW50ZXJhY3RpdmUgZnJvbSAnLi9hcHAvaW50ZXJhY3RpdmUnO1xyXG5pbXBvcnQgRVZFTlQgZnJvbSAnLi9hcHAvZXZlbnRzJztcclxuaW1wb3J0IHsgc3R1ZGlvLCBvbmVCUiwgdHdvQlIsIHRocmVlQlIsIGZvdXJCUiB9IGZyb20gJy4vYXBwL3RlbXBsYXRlLnJvb20nO1xyXG5pbXBvcnQge2xvYWRpbmdJbWFnZSwgZG93bmxvYWRJbWFnZSwgYXN5bmNGbG9vcnBsYW59IGZyb20gJy4vYXBwL2ltcG9ydEltYWdlJztcclxuaW1wb3J0IHtpY29uRHJhZ30gZnJvbSAnLi9hcHAvaWNvbkRyYWcnO1xyXG5pbXBvcnQge3VuZG8sIHJlZG8sIGluaXRJbnRybywgbW92ZVZlY3RvciwgY2hlY2tTZWxlY3RlZCB9IGZyb20gJy4vYXBwL3V0aWxzJztcclxuaW1wb3J0IHtyZXNwb25zaXZlfSBmcm9tICcuL2FwcC9yZXNwb25zaXZlJztcclxuaW1wb3J0IHtyZW1vdmVUdXRzLCBpbml0VHV0fSBmcm9tICcuL2FwcC90dXRzJztcclxuaW1wb3J0IHtpbml0RGlhbG9nLCBzaG93RGlhbG9nfSBmcm9tICcuL2FwcC9kaWFsb2cnO1xyXG5pbXBvcnQgbGFiZWxDb250cm9sIGZyb20gJy4vYXBwL2xhYmVsJztcclxuaW1wb3J0IGVyYXNlckNvbnRyb2wsIHtwYXJzZUVyYXNlckNvbmZpZ30gZnJvbSAnLi9hcHAvZXJhc2VyJztcclxuaW1wb3J0IHtkcmF3R3JpZH0gZnJvbSAnLi9hcHAvZ3JpZCc7XHJcblxyXG5yZXNwb25zaXZlKCk7XHJcblxyXG5jb25zdCBjYW52YXMgPSBuZXcgZmFicmljLkNhbnZhcygnYycsIHsgc2VsZWN0aW9uOiBmYWxzZSwgYmFja2dyb3VuZENvbG9yIDogXCIjZmZmZmZmXCIgfSk7XHJcblxyXG5cclxuXHJcbi8vIHZhcmlhYmxlcyBkZWNsYXJhdGlvblxyXG5sZXQgbGluZSwgcm9vbSwgaXNEb3duO1xyXG5cclxubGV0IHJlY3RDb29yZCA9IHsgeDogbnVsbCAsIHk6IG51bGwgfTtcclxubGV0IGZ1cm5pdHVyZVVSTCA9IG51bGw7XHJcbmxldCBsYWJlbFRhZyA9IG51bGw7XHJcbmxldCBTVEFURSA9IG51bGw7XHJcbmxldCBFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxubGV0IFNFTEVDVEVEID0gZmFsc2U7XHJcbmxldCBSRURPID0gZmFsc2U7XHJcbmxldCB1bmRvTGlzdCA9IFtdO1xyXG5sZXQgaW1wb3J0ZWRJbWFnZVBhdGggPSBbXTtcclxubGV0IHNlbGVjdGVkTGFiZWwgPSBudWxsO1xyXG5sZXQgbGFiZWxDb25maWcgPSB7XHJcbiAgZm9udFNpemU6IDE1LFxyXG4gIGZvbnRTdHlsZTogJ25vcm1hbCcsXHJcbiAgZm9udFdlaWdodDogJ25vcm1hbCdcclxufVxyXG5sZXQgZXJhc2VyQ29uZmlnID0ge1xyXG4gICAgZXJhc2VyU2l6ZTogMTUsXHJcbiAgICBlcmFzZXJTdHlsZTogJ3BlbmNpbCdcclxufVxyXG52YXIgbWVhc3VyZUJhciA7XHJcblxyXG4vLyBlbmQgdmFyaWFibGVzXHJcbmluaXREaWFsb2coY2FudmFzKTtcclxuaW50ZXJhY3RpdmUoRXZlbnQpO1xyXG4vL2ZldGNoSWNvbnMoRXZlbnQpO1xyXG5sb2FkaW5nSW1hZ2UoY2FudmFzKTtcclxuaWNvbkRyYWcoY2FudmFzLEV2ZW50LCBTVEFURSwgZnVybml0dXJlVVJMLCBsYWJlbFRhZywgbGFiZWxDb25maWcpO1xyXG5hY2NvcmRpb24oKTtcclxuZG93bmxvYWRJbWFnZShjYW52YXMsIEV2ZW50KTtcclxuYXN5bmNGbG9vcnBsYW4oRXZlbnQsIGNhbnZhcyk7XHJcbmluaXRJbnRybygpO1xyXG5sYWJlbENvbnRyb2wobGFiZWxDb25maWcsIEV2ZW50KTtcclxuZXJhc2VyQ29udHJvbChlcmFzZXJDb25maWcsIEV2ZW50KTtcclxuLy9kcmF3R3JpZChjYW52YXMsIDI1LCBncmlkR3JvdXApO1xyXG5cclxuZmFicmljLmxvYWRTVkdGcm9tVVJMKCd0b29scy9tZWFzdXJlYmFyLnN2ZycsIGZ1bmN0aW9uKG9iamVjdHMsIG9wdGlvbnMpIHtcclxuICAgIG1lYXN1cmVCYXIgPSBmYWJyaWMudXRpbC5ncm91cFNWR0VsZW1lbnRzKG9iamVjdHMsIG9wdGlvbnMpO1xyXG4gICAgbWVhc3VyZUJhci5zY2FsZSgwLjUpO1xyXG4gICAgY2FudmFzLmFkZChtZWFzdXJlQmFyKTtcclxufSlcclxuICAgIFxyXG5jYW52YXMub24oJ21vdXNlOmRvd24nLCBmdW5jdGlvbihvKXtcclxuICAgIGlzRG93biA9IHRydWU7XHJcbiAgICBzd2l0Y2goU1RBVEUpe1xyXG4gICAgICAgIGNhc2UgRVZFTlQuTElORTpcclxuICAgICAgICAgICAgbGluZSA9IGRyYXdMaW5lKGNhbnZhcywgbyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGQobGluZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRVZFTlQuUk9PTTpcclxuICAgICAgICAgICAgcmVjdENvb3JkLnggPSBvLmUub2Zmc2V0WDtcclxuICAgICAgICAgICAgcmVjdENvb3JkLnkgPSBvLmUub2Zmc2V0WTtcclxuXHJcbiAgICAgICAgICAgIHJvb20gPSBkcmF3Um9vbShjYW52YXMsIG8pO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkKHJvb20pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEVWRU5ULkxBQkVMOlxyXG4gICAgICAgICAgICBmdXJuaXR1cmVVUkwgPSBudWxsO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3RlZExhYmVsICE9PSBudWxsKTtcclxuICAgICAgICAgICAgaWYoc2VsZWN0ZWRMYWJlbCA9PT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMuYWRkKG5ldyBmYWJyaWMuSVRleHQoJ1RBUF9IRVJFJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiJ1JvYm90bycsIHNhbnMtc2VyaWZcIixcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBvLmUub2Zmc2V0WCxcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IG8uZS5vZmZzZXRZLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBsYWJlbENvbmZpZy5mb250U2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBsYWJlbENvbmZpZy5mb250V2VpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogbGFiZWxDb25maWcuZm9udFN0eWxlLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzJjM2U1MCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29ybmVyQ29sb3I6ICcjMmMzZTUwJyxcclxuICAgICAgICAgICAgICAgICAgICBjb3JuZXJTaXplOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50Q29ybmVyczogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEVWRU5ULkZVUk5JVFVSRTpcclxuICAgICAgICAgICAgbGFiZWxUYWcgPSBudWxsO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufSk7XHJcblxyXG5jYW52YXMub24oJ29iamVjdDpzZWxlY3RlZCcsIChldmVudCk9PntcclxuICAgIGNvbnN0IHR5cGUgPSBldmVudC50YXJnZXQuZ2V0KCd0eXBlJyk7XHJcbiAgICBpZih0eXBlID09PSAnaS10ZXh0Jyl7XHJcbiAgICAgICAgc2VsZWN0ZWRMYWJlbCA9IGV2ZW50LnRhcmdldDtcclxuICAgIH1lbHNlIHtcclxuICAgICAgICBzZWxlY3RlZExhYmVsID0gbnVsbDtcclxuICAgICAgICBTVEFURSA9IG51bGw7XHJcbiAgICB9XHJcbn0pO1xyXG5jYW52YXMub24oJ3NlbGVjdGlvbjpjbGVhcmVkJywgKCk9PntcclxuICAgIHNlbGVjdGVkTGFiZWwgPSBudWxsO1xyXG59KVxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FudmFzLWNvbnRhaW5lcicpLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGxldCByZWN0ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IG8gPSB7XHJcbiAgICAgICAgeDogZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0LFxyXG4gICAgICAgIHk6IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSAtIHJlY3QudG9wXHJcbiAgICB9O1xyXG5cclxuICAgIGlzRG93biA9IHRydWU7XHJcbiAgICBzd2l0Y2goU1RBVEUpe1xyXG4gICAgICAgIGNhc2UgRVZFTlQuTElORTpcclxuICAgICAgICAgICAgbGluZSA9IGRyYXdMaW5lKGNhbnZhcywgbyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGQobGluZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRVZFTlQuUk9PTTpcclxuICAgICAgICAgICAgcmVjdENvb3JkLnggPSBvLng7XHJcbiAgICAgICAgICAgIHJlY3RDb29yZC55ID0gby55O1xyXG5cclxuICAgICAgICAgICAgcm9vbSA9IGRyYXdSb29tKGNhbnZhcywgbyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGQocm9vbSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRVZFTlQuTEFCRUw6XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGQobmV3IGZhYnJpYy5JVGV4dCgnVEFQX0hFUkUnLCB7XHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcIidSb2JvdG8nLCBzYW5zLXNlcmlmXCIsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiA1MDAsXHJcbiAgICAgICAgICAgICAgICB0b3A6IDUwMCxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBsYWJlbENvbmZpZy5mb250U2l6ZSxcclxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IGxhYmVsQ29uZmlnLmZvbnRXZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6IGxhYmVsQ29uZmlnLmZvbnRTdHlsZSxcclxuICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoYXNDb250cm9sczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyMyYzNlNTAnLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyQ29sb3I6ICcjMmMzZTUwJyxcclxuICAgICAgICAgICAgICAgIGNvcm5lclNpemU6IDMsXHJcbiAgICAgICAgICAgICAgICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IGNhbnZhcy5fb2JqZWN0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBY3RpdmVPYmplY3QoY2FudmFzLml0ZW0obGFzdEluZGV4LTEpKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBFVkVOVC5GVVJOSVRVUkU6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRVZFTlQuRFJBR19GVVJOSVRVUkU6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRVZFTlQuRE9ERExFOlxyXG4gICAgICAgICAgICBsZXQgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiAyLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogby54LFxyXG4gICAgICAgICAgICAgICAgdG9wOiBvLnksXHJcbiAgICAgICAgICAgICAgICBmaWxsOiAnJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzLFxyXG4gICAgICAgICAgICAgICAgb3JpZ2luWDogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICBvcmlnaW5ZOiAnY2VudGVyJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZChjaXJjbGUpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgIH1cclxuXHJcbn0pO1xyXG5jYW52YXMub24oJ3RvdWNoOmRyYWcnLCAobyk9PntcclxuICAgIGlmICghaXNEb3duKSByZXR1cm47XHJcbiAgICBsZXQgcG9pbnRlciA9IG8uc2VsZjtcclxuICAgIHN3aXRjaCAoU1RBVEUpe1xyXG4gICAgICAgIGNhc2UgRVZFTlQuTElORTpcclxuICAgICAgICAgICAgbGluZS5zZXQoeyB4MjogcG9pbnRlci54LCB5MjogcG9pbnRlci55IH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEVWRU5ULlJPT006XHJcbiAgICAgICAgICAgIGlmKHJlY3RDb29yZC54ID4gcG9pbnRlci54KXtcclxuICAgICAgICAgICAgICAgIHJvb20uc2V0KHsgbGVmdDogTWF0aC5hYnMocG9pbnRlci54KSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihyZWN0Q29vcmQueSA+cG9pbnRlci55ICl7XHJcbiAgICAgICAgICAgICAgICByb29tLnNldCh7IHRvcDogTWF0aC5hYnMocG9pbnRlci55KSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByb29tLnNldCh7IHdpZHRoOiBNYXRoLmFicyhyZWN0Q29vcmQueCAtIHBvaW50ZXIueCkgfSk7XHJcbiAgICAgICAgICAgIHJvb20uc2V0KHsgaGVpZ2h0OiBNYXRoLmFicyhyZWN0Q29vcmQueSAtIHBvaW50ZXIueSkgfSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgRVZFTlQuRE9ERExFOlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXMucmVuZGVyQWxsKCk7XHJcbn0pO1xyXG5cclxuY2FudmFzLm9uKCdtb3VzZTptb3ZlJywgZnVuY3Rpb24obyl7XHJcbiAgICBpZiAoIWlzRG93bikgcmV0dXJuO1xyXG4gICAgbGV0IHBvaW50ZXIgPSBjYW52YXMuZ2V0UG9pbnRlcihvLmUpO1xyXG5cclxuICAgIHN3aXRjaCAoU1RBVEUpe1xyXG4gICAgICAgIGNhc2UgRVZFTlQuTElORTpcclxuICAgICAgICAgICAgbGluZS5zZXQoeyB4MjogcG9pbnRlci54LCB5MjogcG9pbnRlci55IH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEVWRU5ULlJPT006XHJcbiAgICAgICAgICAgIGlmKHJlY3RDb29yZC54ID4gcG9pbnRlci54KXtcclxuICAgICAgICAgICAgICAgIHJvb20uc2V0KHsgbGVmdDogTWF0aC5hYnMocG9pbnRlci54KSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihyZWN0Q29vcmQueSA+cG9pbnRlci55ICl7XHJcbiAgICAgICAgICAgICAgICByb29tLnNldCh7IHRvcDogTWF0aC5hYnMocG9pbnRlci55KSB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcm9vbS5zZXQoeyB3aWR0aDogTWF0aC5hYnMocmVjdENvb3JkLnggLSBwb2ludGVyLngpIH0pO1xyXG4gICAgICAgICAgICByb29tLnNldCh7IGhlaWdodDogTWF0aC5hYnMocmVjdENvb3JkLnkgLSBwb2ludGVyLnkpIH0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG59KTtcclxuXHJcbmNhbnZhcy5vbignbW91c2U6dXAnLCBmdW5jdGlvbihvKXtcclxuICAgIGlzRG93biA9IGZhbHNlO1xyXG59KTtcclxuXHJcbmNhbnZhcy5vbigncGF0aDpjcmVhdGVkJywgKG9iamVjdCk9PntcclxuICAgIGlmKGNhbnZhcy5pc0RyYXdpbmdNb2RlKXtcclxuICAgICAgIC8vIGNvbnNvbGUubG9nKG9iamVjdCk7XHJcbiAgICAgICAgbGV0IGxhc3RJbmRleCA9IGNhbnZhcy5fb2JqZWN0cy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGNhbnZhcy5pdGVtKGxhc3RJbmRleC0xKS5zZWxlY3RhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG4gICAgfVxyXG59KTtcclxuY2FudmFzLm9uKCdvYmplY3Q6bW92aW5nJywgKG9iamVjdCk9PntcclxuICAgIGlmKG9iamVjdC50YXJnZXQuaWQgPT09J2ltcG9ydGVkJyApe1xyXG4gICAgICAgIGNvbnN0IGZsb29ycGxhbiA9IG9iamVjdC50YXJnZXQ7XHJcbiAgICAgICAgY29uc3QgcGF0aFhZID0geyB0b3A6IGZsb29ycGxhbi5nZXQoJ3RvcCcpLCBsZWZ0OiBmbG9vcnBsYW4uZ2V0KCdsZWZ0Jyl9O1xyXG4gICAgICAgIC8vY29uc29sZS5sb2cocGF0aFhZKTtcclxuICAgICAgICBpbXBvcnRlZEltYWdlUGF0aC5wdXNoKHBhdGhYWSk7XHJcbiAgICAgICAgaWYoaW1wb3J0ZWRJbWFnZVBhdGgsbGVuZ3RoID09PSAyKXtcclxuICAgICAgICAgICAgY29uc3QgdmVjdG9yID0gW2ltcG9ydGVkSW1hZ2VQYXRoW2ltcG9ydGVkSW1hZ2VQYXRoLmxlbmd0aC0xXS50b3AtIGltcG9ydGVkSW1hZ2VQYXRoW2ltcG9ydGVkSW1hZ2VQYXRoLmxlbmd0aC0yXS50b3AsXHJcbiAgICAgICAgICAgICAgICBpbXBvcnRlZEltYWdlUGF0aFtpbXBvcnRlZEltYWdlUGF0aC5sZW5ndGgtMV0ubGVmdCAtIGltcG9ydGVkSW1hZ2VQYXRoW2ltcG9ydGVkSW1hZ2VQYXRoLmxlbmd0aC0yXS5sZWZ0XTtcclxuICAgICAgICAgICAgbW92ZVZlY3RvcihjYW52YXMsIHZlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGltcG9ydGVkSW1hZ2VQYXRoLmxlbmd0aCA+IDIpe1xyXG4gICAgICAgICAgICBpbXBvcnRlZEltYWdlUGF0aC5zaGlmdCgpO1xyXG4gICAgICAgICAgICBjb25zdCB2ZWN0b3IgPSBbaW1wb3J0ZWRJbWFnZVBhdGhbaW1wb3J0ZWRJbWFnZVBhdGgubGVuZ3RoLTFdLnRvcC0gaW1wb3J0ZWRJbWFnZVBhdGhbaW1wb3J0ZWRJbWFnZVBhdGgubGVuZ3RoLTJdLnRvcCxcclxuICAgICAgICAgICAgICAgIGltcG9ydGVkSW1hZ2VQYXRoW2ltcG9ydGVkSW1hZ2VQYXRoLmxlbmd0aC0xXS5sZWZ0IC0gaW1wb3J0ZWRJbWFnZVBhdGhbaW1wb3J0ZWRJbWFnZVBhdGgubGVuZ3RoLTJdLmxlZnRdO1xyXG4gICAgICAgICAgICBtb3ZlVmVjdG9yKGNhbnZhcywgdmVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5FdmVudC5vbignVE9PTF9DSEFOR0UnLCAocm9sZSk9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyb2xlLCBTVEFURSk7XHJcbiAgICBpZihTVEFURSA9PT0gcm9sZSl7XHJcbiAgICAgICAgU1RBVEUgPSBudWxsO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgU1RBVEUgPSByb2xlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZihTVEFURSA9PT0gRVZFTlQuRlVSTklUVVJFKXtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeScpLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDBweCknO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5Jykuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMjAwcHgpJztcclxuICAgIH1cclxuXHJcbiAgICBpZihTVEFURSA9PT0gRVZFTlQuQ0xFQVIpe1xyXG4gICAgICAgIHNob3dEaWFsb2coKTtcclxuICAgIH1cclxuICAgIGlmKFNUQVRFID09PSBFVkVOVC5FUkFTRVIpe1xyXG4gICAgICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gdHJ1ZTtcclxuICAgICAgICBjYW52YXMuZnJlZURyYXdpbmdCcnVzaCA9IHBhcnNlRXJhc2VyQ29uZmlnKGVyYXNlckNvbmZpZywgY2FudmFzKS5zdHlsZTtcclxuICAgICAgICBjYW52YXMuZnJlZURyYXdpbmdCcnVzaC5jb2xvciA9ICd3aGl0ZSc7XHJcbiAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSBwYXJzZUVyYXNlckNvbmZpZyhlcmFzZXJDb25maWcsIGNhbnZhcykuc2l6ZTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgICBpZihTVEFURSA9PT0gRVZFTlQuRE9ERExFKXtcclxuICAgICAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2ggPSBuZXcgZmFicmljWydQZW5jaWxCcnVzaCddKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoLmNvbG9yID0gJ2JsYWNrJztcclxuICAgICAgICAgICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSAzO1xyXG4gICAgICAgICAgICBjYW52YXMuaXNEcmF3aW5nTW9kZSA9IHRydWU7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICBjYW52YXMuaXNEcmF3aW5nTW9kZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICBpZihyb2xlID09PSBFVkVOVC5VTkRPKXtcclxuICAgICAgICB1bmRvKGNhbnZhcywgdW5kb0xpc3QpO1xyXG4gICAgfVxyXG4gICAgaWYocm9sZSA9PT0gRVZFTlQuUkVETyl7XHJcbiAgICAgICAgcmVkbyhjYW52YXMsIHVuZG9MaXN0LCBSRURPKVxyXG4gICAgfVxyXG4gICAgaWYoU1RBVEUgPT09IEVWRU5ULkRSQVdJTkcpe1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZW1wbGF0ZXMnKS5zdHlsZS5sZWZ0ID0gJzBweCc7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXdpbmcnKS5zdHlsZS5sZWZ0ID0gJzcwcHgnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHJvbGUgPT09IEVWRU5ULlRFTVBMQVRFUyl7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXdpbmcnKS5zdHlsZS5sZWZ0ID0gJzBweCc7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RlbXBsYXRlcycpLnN0eWxlLmxlZnQgPSAnNzBweCc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYocm9sZSA9PT0gRVZFTlQuTEFCRUwpe1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYWJlbC1jb250cm9sbGVyJykuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMHB4KSc7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxhYmVsLWNvbnRyb2xsZXInKS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgyMDBweCknO1xyXG4gICAgfVxyXG4gICAgaWYocm9sZSA9PT0gRVZFTlQuRVJBU0VSKXtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXJhc2VyLWNvbnRyb2xsZXInKS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwcHgpJztcclxuICAgIH1lbHNlIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXJhc2VyLWNvbnRyb2xsZXInKS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgyMDBweCknO1xyXG4gICAgfVxyXG4gICAgaWYoU1RBVEUgPT09IG51bGwpe1xyXG4gICAgICAgIGNhbnZhcy5nZXRPYmplY3RzKCkubWFwKGZ1bmN0aW9uKG9iamVjdCkge1xyXG4gICAgICAgICAgICBpZihvYmplY3QuaWQgPT09J2ltcG9ydGVkJyApe1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LnNldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVtcGxhdGVzJykuc3R5bGUubGVmdCA9ICcwcHgnO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcmF3aW5nJykuc3R5bGUubGVmdCA9ICcwcHgnO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYWJlbC1jb250cm9sbGVyJykuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMjAwcHgpJztcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXJhc2VyLWNvbnRyb2xsZXInKS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgyMDBweCknO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICAgIGNhbnZhcy5nZXRPYmplY3RzKCkubWFwKGZ1bmN0aW9uKG9iamVjdCkge1xyXG4gICAgICAgICAgICBpZihvYmplY3QuaWQgPT09J2ltcG9ydGVkJyApe1xyXG4gICAgICAgICAgICAgICAgb2JqZWN0LnNldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG5FdmVudC5vbignSUNPTl9DSEFOR0UnLCAoaWNvblVSTCk9PntcclxuICAgIFNUQVRFID0gRVZFTlQuRlVSTklUVVJFO1xyXG4gICAgZnVybml0dXJlVVJMID0gaWNvblVSTDtcclxufSlcclxuRXZlbnQub24oJ0lDT05fRFJBR19TVEFSVCcsIChpY29uVVJMKT0+e1xyXG4gICAgZnVybml0dXJlVVJMID0gaWNvblVSTDtcclxufSk7XHJcblxyXG5FdmVudC5vbihFVkVOVC5DSEFOR0VfVEVNUExBVEUsICh0ZW1wbGF0ZSk9PntcclxuICAgIGNhbnZhcy5jbGVhcigpO1xyXG4gICAgc3dpdGNoICh0ZW1wbGF0ZSl7XHJcbiAgICAgICAgY2FzZSAnU1RVRElPJzpcclxuICAgICAgICAgICAgc3R1ZGlvKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ09ORSBCRURST09NJzpcclxuICAgICAgICAgICAgb25lQlIoY2FudmFzKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnVFdPIEJFRFJPT00nOlxyXG4gICAgICAgICAgICB0d29CUihjYW52YXMpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdUSFJFRSBCRURST09NJzpcclxuICAgICAgICAgICAgdGhyZWVCUihjYW52YXMpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdGT1VSIEJFRFJPT00nOlxyXG4gICAgICAgICAgICAvL2ZvdXJCUihjYW52YXMpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufSk7XHJcbkV2ZW50Lm9uKCdMQUJFTF9DT05GSUdfQ0hBTkdFRCcsICgpPT57XHJcbiAgICBpZihzZWxlY3RlZExhYmVsLnNlbGVjdGVkKXtcclxuICAgICAgICBzZWxlY3RlZExhYmVsLnNldCh7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBsYWJlbENvbmZpZy5mb250U2l6ZSxcclxuICAgICAgICAgICAgZm9udFdlaWdodDogbGFiZWxDb25maWcuZm9udFdlaWdodCxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiBsYWJlbENvbmZpZy5mb250U3R5bGUsXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7XHJcbiAgICB9XHJcbn0pO1xyXG5FdmVudC5vbignRVJBU0VSX0NPTkZJR19DSEFOR0VEJywgKCk9PntcclxuICAgIGNhbnZhcy5pc0RyYXdpbmdNb2RlID0gdHJ1ZTtcclxuICAgIGNhbnZhcy5mcmVlRHJhd2luZ0JydXNoID0gcGFyc2VFcmFzZXJDb25maWcoZXJhc2VyQ29uZmlnLCBjYW52YXMpLnN0eWxlO1xyXG4gICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2guY29sb3IgPSAnd2hpdGUnO1xyXG4gICAgY2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSBwYXJzZUVyYXNlckNvbmZpZyhlcmFzZXJDb25maWcsIGNhbnZhcykuc2l6ZTtcclxuICAgLy9jb25zb2xlLmxvZyhwYXJzZUVyYXNlckNvbmZpZyhlcmFzZXJDb25maWcsIGNhbnZhcykpO1xyXG4gICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG4gICAgLy9jb25zb2xlLmxvZyhjYW52YXMuZnJlZURyYXdpbmdCcnVzaCk7XHJcbn0pXHJcbmNhbnZhcy5vbignb2JqZWN0OnNlbGVjdGVkJywgKGV2ZW50KT0+e1xyXG4gICAgY29uc3QgY2xhc3NOYW1lID0gZXZlbnQudGFyZ2V0LmdldCgndHlwZScpO1xyXG4gICAgaWYgKGNsYXNzTmFtZSA9PT0gJ2ktdGV4dCcpIHtcclxuICAgICAgICBTRUxFQ1RFRCA9IHRydWU7XHJcblxyXG4gICAgfVxyXG59KVxyXG5jYW52YXMub24oJ3NlbGVjdGlvbjpjbGVhcmVkJywgKGV2ZW50KT0+e1xyXG4gICAgU0VMRUNURUQgPSBmYWxzZTtcclxufSlcclxuXHJcblxyXG5jYW52YXMub24oJ29iamVjdDphZGRlZCcsZnVuY3Rpb24oKXtcclxuICAgIGlmKCFSRURPKXtcclxuICAgICAgICB1bmRvTGlzdCA9IFtdO1xyXG4gICAgfVxyXG4gICAgUkVETyA9IHRydWU7XHJcbn0pO1xyXG5cclxuY2FudmFzLm9uKFwibW91c2U6dXBcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYobWVhc3VyZUJhciAhPSBudWxsICYmIG1lYXN1cmVCYXIgIT09dW5kZWZpbmVkKXtcclxuICAgICAgICBtZWFzdXJlQmFyLmJyaW5nVG9Gcm9udCgpO1xyXG4gICAgfVxyXG59KVxyXG5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgaWYoZXZlbnQua2V5Q29kZSA9PT0gNDYgJiYgY2FudmFzLmdldEFjdGl2ZU9iamVjdCgpICE9PW51bGwpe1xyXG4gICAgICAgIGNhbnZhcy5nZXRBY3RpdmVPYmplY3QoKS5yZW1vdmUoKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaW5kZXguanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQTtBQUNBO0FBQ0E7QUFDQTs7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFEQTtBQWdCQTtBQS9CQTtBQWlDQTtBQUNBO0FBbENBO0FBRkE7QUFDQTtBQXVDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUpBO0FBRkE7QUFTQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBN0JBO0FBK0JBO0FBL0JBO0FBaUNBO0FBakNBO0FBbUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBL0NBO0FBUkE7QUEyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQWJBO0FBZUE7QUFmQTtBQUNBO0FBaUJBO0FBckJBO0FBQ0E7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQWZBO0FBQ0E7QUFpQkE7QUF0QkE7QUFDQTtBQXdCQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQURBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7O0FBRkE7QUFLQTtBQUNBO0FBRUE7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBSkE7QUFWQTtBQURBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBREE7QUFHQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQU5BO0FBTkE7QUFnQkE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBREE7QUFHQTtBQUhBO0FBS0E7QUFDQTtBQURBO0FBR0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBREE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFEQTtBQWRBO0FBM0RBO0FBQ0E7QUFrRkE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQVpBOztBQWVBO0FBZkE7QUFGQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBTkE7QUFEQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSkE7O0FBQUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFPQTtBQUNBO0FBREE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUtBO0FBQ0E7QUFDQTtBQURBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar iconList = ['bedside-drawer.svg', 'chair.svg', 'dinner-table.svg', 'double-bed.svg', 'single-bed.svg', 'sofa.svg', 'stove.svg'];\n\nvar URL = {\n    'furniture': './furniture-sample/'\n};\n\nvar fetchIcons = function fetchIcons(Event) {\n    var icons = document.querySelector('.icons');\n\n    var iconsHTML = '';\n    iconList.forEach(function (icon) {\n        iconsHTML += '<div class=\"icon\"><img src=\"' + URL.furniture + icon + '\"></div>';\n    });\n\n    icons.innerHTML = iconsHTML;\n\n    var iconImages = document.querySelectorAll('.icon img');\n\n    [].forEach.call(iconImages, function (iconImage) {\n        iconImage.addEventListener('click', function (event) {\n            Event.emit('ICON_CHANGE', event.target.src);\n        });\n    });\n};\nvar accordion = function accordion() {\n    var accordions = document.querySelectorAll('.accordion');\n    [].forEach.call(accordions, function (accordion) {\n        var className = 'active';\n        accordion.addEventListener('click', function (event) {\n            removeActive();\n            if (accordion.classList) accordion.classList.add(className);else accordion.className += ' ' + className;\n        });\n    });\n};\nvar removeActive = function removeActive() {\n    var accordions = document.querySelectorAll('.accordion');\n    [].forEach.call(accordions, function (accordion) {\n        var className = 'active';\n        if (accordion.classList) accordion.classList.remove(className);else accordion.className = accordion.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    });\n};\nexports.iconList = iconList;\nexports.URL = URL;\nexports.fetchIcons = fetchIcons;\nexports.accordion = accordion;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL3NldHRpbmdzLmpzPzdjNGIiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNvbnN0IGljb25MaXN0ID0gW1xyXG4gICAgJ2JlZHNpZGUtZHJhd2VyLnN2ZycsXHJcbiAgICAnY2hhaXIuc3ZnJyxcclxuICAgICdkaW5uZXItdGFibGUuc3ZnJyxcclxuICAgICdkb3VibGUtYmVkLnN2ZycsXHJcbiAgICAnc2luZ2xlLWJlZC5zdmcnLFxyXG4gICAgJ3NvZmEuc3ZnJyxcclxuICAgICdzdG92ZS5zdmcnXHJcbl07XHJcblxyXG5jb25zdCBVUkwgPSB7XHJcbiAgICAnZnVybml0dXJlJzogJy4vZnVybml0dXJlLXNhbXBsZS8nXHJcbn07XHJcblxyXG5jb25zdCBmZXRjaEljb25zID0gKEV2ZW50KT0+e1xyXG4gICAgbGV0IGljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmljb25zJyk7XHJcblxyXG4gICAgbGV0IGljb25zSFRNTCA9ICcnO1xyXG4gICAgaWNvbkxpc3QuZm9yRWFjaCgoaWNvbik9PntcclxuICAgICAgICBpY29uc0hUTUwgKz0gJzxkaXYgY2xhc3M9XCJpY29uXCI+PGltZyBzcmM9XCInKyBVUkwuZnVybml0dXJlKyBpY29uKyAnXCI+PC9kaXY+JztcclxuICAgIH0pO1xyXG5cclxuICAgIGljb25zLmlubmVySFRNTCA9IGljb25zSFRNTDtcclxuXHJcbiAgICBsZXQgaWNvbkltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pY29uIGltZycpO1xyXG5cclxuICAgIFtdLmZvckVhY2guY2FsbChpY29uSW1hZ2VzLCAoaWNvbkltYWdlKT0+e1xyXG4gICAgICAgIGljb25JbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCk9PntcclxuICAgICAgICAgICAgRXZlbnQuZW1pdCgnSUNPTl9DSEFOR0UnLCBldmVudC50YXJnZXQuc3JjKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbn1cclxuY29uc3QgYWNjb3JkaW9uID0gKCk9PntcclxuICAgIGxldCBhY2NvcmRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY29yZGlvbicpO1xyXG4gICAgW10uZm9yRWFjaC5jYWxsKGFjY29yZGlvbnMsIChhY2NvcmRpb24pPT57XHJcbiAgICAgICAgbGV0IGNsYXNzTmFtZSA9ICdhY3RpdmUnO1xyXG4gICAgICAgIGFjY29yZGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICAoZXZlbnQpPT4ge1xyXG4gICAgICAgICAgICByZW1vdmVBY3RpdmUoKTtcclxuICAgICAgICAgICAgaWYgKGFjY29yZGlvbi5jbGFzc0xpc3QpXHJcbiAgICAgICAgICAgICAgICBhY2NvcmRpb24uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBhY2NvcmRpb24uY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5jb25zdCByZW1vdmVBY3RpdmUgPSAoKT0+e1xyXG4gICAgbGV0IGFjY29yZGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uJyk7XHJcbiAgICBbXS5mb3JFYWNoLmNhbGwoYWNjb3JkaW9ucywgKGFjY29yZGlvbik9PntcclxuICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ2FjdGl2ZSc7XHJcbiAgICAgICAgaWYgKGFjY29yZGlvbi5jbGFzc0xpc3QpXHJcbiAgICAgICAgICAgIGFjY29yZGlvbi5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBhY2NvcmRpb24uY2xhc3NOYW1lID0gYWNjb3JkaW9uLmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcXFxifCQpJywgJ2dpJyksICcgJyk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQge2ljb25MaXN0LCBVUkwsIGZldGNoSWNvbnMsIGFjY29yZGlvbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2FwcC9zZXR0aW5ncy5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQVpBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFGQTtBQUZBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBRkE7QUFVQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("/**\n * Module dependencies.\n */\n\nvar Emitter = __webpack_require__(18);\nvar reduce = __webpack_require__(23);\nvar requestBase = __webpack_require__(24);\nvar isObject = __webpack_require__(3);\n\n/**\n * Root reference for iframes.\n */\n\nvar root;\nif (typeof window !== 'undefined') { // Browser window\n  root = window;\n} else if (typeof self !== 'undefined') { // Web Worker\n  root = self;\n} else { // Other environments\n  root = this;\n}\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Expose `request`.\n */\n\nvar request = module.exports = __webpack_require__(25).bind(null, Request);\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  return false;\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    if (null != obj[key]) {\n      pushEncodedKeyValuePair(pairs, key, obj[key]);\n        }\n      }\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (Array.isArray(val)) {\n    return val.forEach(function(v) {\n      pushEncodedKeyValuePair(pairs, key, v);\n    });\n  }\n  pairs.push(encodeURIComponent(key)\n    + '=' + encodeURIComponent(val));\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var parts;\n  var pair;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    parts = pair.split('=');\n    obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  return /[\\/+]json\\b/.test(mime);\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return reduce(str.split(/ *; */), function(obj, str){\n    var parts = str.split(/ *= */)\n      , key = parts.shift()\n      , val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  this.setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this.setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this.parseBody(this.text ? this.text : this.xhr.response)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype.setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype.parseBody = function(str){\n  var parse = request.parse[this.type];\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype.setStatusProperties = function(status){\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = this.statusCode = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      // issue #675: return the raw response if the response parsing fails\n      err.rawResponse = self.xhr && self.xhr.responseText ? self.xhr.responseText : null;\n      // issue #876: return the http status code if the response parsing fails\n      err.statusCode = self.xhr && self.xhr.status ? self.xhr.status : null;\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    if (err) {\n      return self.callback(err, res);\n    }\n\n    if (res.status >= 200 && res.status < 300) {\n      return self.callback(err, res);\n    }\n\n    var new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n    new_err.original = err;\n    new_err.response = res;\n    new_err.status = res.status;\n\n    self.callback(new_err, res);\n  });\n}\n\n/**\n * Mixin `Emitter` and `requestBase`.\n */\n\nEmitter(Request.prototype);\nfor (var key in requestBase) {\n  Request.prototype[key] = requestBase[key];\n}\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set responseType to `val`. Presently valid responseTypes are 'blob' and \n * 'arraybuffer'.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.responseType = function(val){\n  this._responseType = val;\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @param {Object} options with 'type' property 'auto' or 'basic' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options){\n  if (!options) {\n    options = {\n      type: 'basic'\n    }\n  }\n\n  switch (options.type) {\n    case 'basic':\n      var str = btoa(user + ':' + pass);\n      this.set('Authorization', 'Basic ' + str);\n    break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n    break;\n  }\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach(new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  if (!this._formData) this._formData = new root.FormData();\n  this._formData.append(field, file, filename || file.name);\n  return this;\n};\n\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n  *      request.post('/user')\n  *        .send('name=tobi')\n  *        .send('species=ferret')\n  *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.send = function(data){\n  var obj = isObject(data);\n  var type = this._header['content-type'];\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj || isHost(data)) return this;\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype.timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequest.prototype.withCredentials = function(){\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var query = this._query.join('&');\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (0 == status) {\n      if (self.timedout) return self.timeoutError();\n      if (self.aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(e){\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    e.direction = 'download';\n    self.emit('progress', e);\n  };\n  if (this.hasListeners('progress')) {\n    xhr.onprogress = handleProgress;\n  }\n  try {\n    if (xhr.upload && this.hasListeners('progress')) {\n      xhr.upload.onprogress = handleProgress;\n    }\n  } catch(e) {\n    // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n    // Reported here:\n    // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.timedout = true;\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  if (query) {\n    query = request.serializeObject(query);\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n\n  // initiate request\n  if (this.username && this.password) {\n    xhr.open(this.method, this.url, true, this.username, this.password);\n  } else {\n    xhr.open(this.method, this.url, true);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var serialize = this._parser || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) serialize = request.serialize['application/json'];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data !== 'undefined' ? data : null);\n  return this;\n};\n\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nfunction del(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\nrequest['del'] = del;\nrequest['delete'] = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vc3VwZXJhZ2VudC9saWIvY2xpZW50LmpzP2E1NGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBFbWl0dGVyID0gcmVxdWlyZSgnZW1pdHRlcicpO1xudmFyIHJlZHVjZSA9IHJlcXVpcmUoJ3JlZHVjZScpO1xudmFyIHJlcXVlc3RCYXNlID0gcmVxdWlyZSgnLi9yZXF1ZXN0LWJhc2UnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXMtb2JqZWN0Jyk7XG5cbi8qKlxuICogUm9vdCByZWZlcmVuY2UgZm9yIGlmcmFtZXMuXG4gKi9cblxudmFyIHJvb3Q7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsgLy8gQnJvd3NlciB3aW5kb3dcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7IC8vIFdlYiBXb3JrZXJcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgeyAvLyBPdGhlciBlbnZpcm9ubWVudHNcbiAgcm9vdCA9IHRoaXM7XG59XG5cbi8qKlxuICogTm9vcC5cbiAqL1xuXG5mdW5jdGlvbiBub29wKCl7fTtcblxuLyoqXG4gKiBDaGVjayBpZiBgb2JqYCBpcyBhIGhvc3Qgb2JqZWN0LFxuICogd2UgZG9uJ3Qgd2FudCB0byBzZXJpYWxpemUgdGhlc2UgOilcbiAqXG4gKiBUT0RPOiBmdXR1cmUgcHJvb2YsIG1vdmUgdG8gY29tcG9lbnQgbGFuZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpc0hvc3Qob2JqKSB7XG4gIHZhciBzdHIgPSB7fS50b1N0cmluZy5jYWxsKG9iaik7XG5cbiAgc3dpdGNoIChzdHIpIHtcbiAgICBjYXNlICdbb2JqZWN0IEZpbGVdJzpcbiAgICBjYXNlICdbb2JqZWN0IEJsb2JdJzpcbiAgICBjYXNlICdbb2JqZWN0IEZvcm1EYXRhXSc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIGByZXF1ZXN0YC5cbiAqL1xuXG52YXIgcmVxdWVzdCA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9yZXF1ZXN0JykuYmluZChudWxsLCBSZXF1ZXN0KTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgWEhSLlxuICovXG5cbnJlcXVlc3QuZ2V0WEhSID0gZnVuY3Rpb24gKCkge1xuICBpZiAocm9vdC5YTUxIdHRwUmVxdWVzdFxuICAgICAgJiYgKCFyb290LmxvY2F0aW9uIHx8ICdmaWxlOicgIT0gcm9vdC5sb2NhdGlvbi5wcm90b2NvbFxuICAgICAgICAgIHx8ICFyb290LkFjdGl2ZVhPYmplY3QpKSB7XG4gICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdDtcbiAgfSBlbHNlIHtcbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJyk7IH0gY2F0Y2goZSkge31cbiAgICB0cnkgeyByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoJ01zeG1sMi5YTUxIVFRQLjYuMCcpOyB9IGNhdGNoKGUpIHt9XG4gICAgdHJ5IHsgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUC4zLjAnKTsgfSBjYXRjaChlKSB7fVxuICAgIHRyeSB7IHJldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAnKTsgfSBjYXRjaChlKSB7fVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLCBhZGRlZCB0byBzdXBwb3J0IElFLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG52YXIgdHJpbSA9ICcnLnRyaW1cbiAgPyBmdW5jdGlvbihzKSB7IHJldHVybiBzLnRyaW0oKTsgfVxuICA6IGZ1bmN0aW9uKHMpIHsgcmV0dXJuIHMucmVwbGFjZSgvKF5cXHMqfFxccyokKS9nLCAnJyk7IH07XG5cbi8qKlxuICogU2VyaWFsaXplIHRoZSBnaXZlbiBgb2JqYC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzZXJpYWxpemUob2JqKSB7XG4gIGlmICghaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgdmFyIHBhaXJzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAobnVsbCAhPSBvYmpba2V5XSkge1xuICAgICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgb2JqW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gIHJldHVybiBwYWlycy5qb2luKCcmJyk7XG59XG5cbi8qKlxuICogSGVscHMgJ3NlcmlhbGl6ZScgd2l0aCBzZXJpYWxpemluZyBhcnJheXMuXG4gKiBNdXRhdGVzIHRoZSBwYWlycyBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYWlyc1xuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKi9cblxuZnVuY3Rpb24gcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgdmFsKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICByZXR1cm4gdmFsLmZvckVhY2goZnVuY3Rpb24odikge1xuICAgICAgcHVzaEVuY29kZWRLZXlWYWx1ZVBhaXIocGFpcnMsIGtleSwgdik7XG4gICAgfSk7XG4gIH1cbiAgcGFpcnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KVxuICAgICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkpO1xufVxuXG4vKipcbiAqIEV4cG9zZSBzZXJpYWxpemF0aW9uIG1ldGhvZC5cbiAqL1xuXG4gcmVxdWVzdC5zZXJpYWxpemVPYmplY3QgPSBzZXJpYWxpemU7XG5cbiAvKipcbiAgKiBQYXJzZSB0aGUgZ2l2ZW4geC13d3ctZm9ybS11cmxlbmNvZGVkIGBzdHJgLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAqIEByZXR1cm4ge09iamVjdH1cbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cblxuZnVuY3Rpb24gcGFyc2VTdHJpbmcoc3RyKSB7XG4gIHZhciBvYmogPSB7fTtcbiAgdmFyIHBhaXJzID0gc3RyLnNwbGl0KCcmJyk7XG4gIHZhciBwYXJ0cztcbiAgdmFyIHBhaXI7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhaXJzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgcGFpciA9IHBhaXJzW2ldO1xuICAgIHBhcnRzID0gcGFpci5zcGxpdCgnPScpO1xuICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQocGFydHNbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1sxXSk7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEV4cG9zZSBwYXJzZXIuXG4gKi9cblxucmVxdWVzdC5wYXJzZVN0cmluZyA9IHBhcnNlU3RyaW5nO1xuXG4vKipcbiAqIERlZmF1bHQgTUlNRSB0eXBlIG1hcC5cbiAqXG4gKiAgICAgc3VwZXJhZ2VudC50eXBlcy54bWwgPSAnYXBwbGljYXRpb24veG1sJztcbiAqXG4gKi9cblxucmVxdWVzdC50eXBlcyA9IHtcbiAgaHRtbDogJ3RleHQvaHRtbCcsXG4gIGpzb246ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgeG1sOiAnYXBwbGljYXRpb24veG1sJyxcbiAgdXJsZW5jb2RlZDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICdmb3JtJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICdmb3JtLWRhdGEnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IHNlcmlhbGl6YXRpb24gbWFwLlxuICpcbiAqICAgICBzdXBlcmFnZW50LnNlcmlhbGl6ZVsnYXBwbGljYXRpb24veG1sJ10gPSBmdW5jdGlvbihvYmope1xuICogICAgICAgcmV0dXJuICdnZW5lcmF0ZWQgeG1sIGhlcmUnO1xuICogICAgIH07XG4gKlxuICovXG5cbiByZXF1ZXN0LnNlcmlhbGl6ZSA9IHtcbiAgICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOiBzZXJpYWxpemUsXG4gICAnYXBwbGljYXRpb24vanNvbic6IEpTT04uc3RyaW5naWZ5XG4gfTtcblxuIC8qKlxuICAqIERlZmF1bHQgcGFyc2Vycy5cbiAgKlxuICAqICAgICBzdXBlcmFnZW50LnBhcnNlWydhcHBsaWNhdGlvbi94bWwnXSA9IGZ1bmN0aW9uKHN0cil7XG4gICogICAgICAgcmV0dXJuIHsgb2JqZWN0IHBhcnNlZCBmcm9tIHN0ciB9O1xuICAqICAgICB9O1xuICAqXG4gICovXG5cbnJlcXVlc3QucGFyc2UgPSB7XG4gICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOiBwYXJzZVN0cmluZyxcbiAgJ2FwcGxpY2F0aW9uL2pzb24nOiBKU09OLnBhcnNlXG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBoZWFkZXIgYHN0cmAgaW50b1xuICogYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG1hcHBlZCBmaWVsZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXIoc3RyKSB7XG4gIHZhciBsaW5lcyA9IHN0ci5zcGxpdCgvXFxyP1xcbi8pO1xuICB2YXIgZmllbGRzID0ge307XG4gIHZhciBpbmRleDtcbiAgdmFyIGxpbmU7XG4gIHZhciBmaWVsZDtcbiAgdmFyIHZhbDtcblxuICBsaW5lcy5wb3AoKTsgLy8gdHJhaWxpbmcgQ1JMRlxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaW5lcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIGxpbmUgPSBsaW5lc1tpXTtcbiAgICBpbmRleCA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGZpZWxkID0gbGluZS5zbGljZSgwLCBpbmRleCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSB0cmltKGxpbmUuc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgZmllbGRzW2ZpZWxkXSA9IHZhbDtcbiAgfVxuXG4gIHJldHVybiBmaWVsZHM7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYG1pbWVgIGlzIGpzb24gb3IgaGFzICtqc29uIHN0cnVjdHVyZWQgc3ludGF4IHN1ZmZpeC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWltZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzSlNPTihtaW1lKSB7XG4gIHJldHVybiAvW1xcLytdanNvblxcYi8udGVzdChtaW1lKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIG1pbWUgdHlwZSBmb3IgdGhlIGdpdmVuIGBzdHJgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHR5cGUoc3RyKXtcbiAgcmV0dXJuIHN0ci5zcGxpdCgvICo7ICovKS5zaGlmdCgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gaGVhZGVyIGZpZWxkIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyYW1zKHN0cil7XG4gIHJldHVybiByZWR1Y2Uoc3RyLnNwbGl0KC8gKjsgKi8pLCBmdW5jdGlvbihvYmosIHN0cil7XG4gICAgdmFyIHBhcnRzID0gc3RyLnNwbGl0KC8gKj0gKi8pXG4gICAgICAsIGtleSA9IHBhcnRzLnNoaWZ0KClcbiAgICAgICwgdmFsID0gcGFydHMuc2hpZnQoKTtcblxuICAgIGlmIChrZXkgJiYgdmFsKSBvYmpba2V5XSA9IHZhbDtcbiAgICByZXR1cm4gb2JqO1xuICB9LCB7fSk7XG59O1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlc3BvbnNlYCB3aXRoIHRoZSBnaXZlbiBgeGhyYC5cbiAqXG4gKiAgLSBzZXQgZmxhZ3MgKC5vaywgLmVycm9yLCBldGMpXG4gKiAgLSBwYXJzZSBoZWFkZXJcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgQWxpYXNpbmcgYHN1cGVyYWdlbnRgIGFzIGByZXF1ZXN0YCBpcyBuaWNlOlxuICpcbiAqICAgICAgcmVxdWVzdCA9IHN1cGVyYWdlbnQ7XG4gKlxuICogIFdlIGNhbiB1c2UgdGhlIHByb21pc2UtbGlrZSBBUEksIG9yIHBhc3MgY2FsbGJhY2tzOlxuICpcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nKS5lbmQoZnVuY3Rpb24ocmVzKXt9KTtcbiAqICAgICAgcmVxdWVzdC5nZXQoJy8nLCBmdW5jdGlvbihyZXMpe30pO1xuICpcbiAqICBTZW5kaW5nIGRhdGEgY2FuIGJlIGNoYWluZWQ6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogIE9yIHBhc3NlZCB0byBgLnNlbmQoKWA6XG4gKlxuICogICAgICByZXF1ZXN0XG4gKiAgICAgICAgLnBvc3QoJy91c2VyJylcbiAqICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiAgT3IgcGFzc2VkIHRvIGAucG9zdCgpYDpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAuZW5kKGZ1bmN0aW9uKHJlcyl7fSk7XG4gKlxuICogT3IgZnVydGhlciByZWR1Y2VkIHRvIGEgc2luZ2xlIGNhbGwgZm9yIHNpbXBsZSBjYXNlczpcbiAqXG4gKiAgICAgIHJlcXVlc3RcbiAqICAgICAgICAucG9zdCgnL3VzZXInLCB7IG5hbWU6ICd0aicgfSwgZnVuY3Rpb24ocmVzKXt9KTtcbiAqXG4gKiBAcGFyYW0ge1hNTEhUVFBSZXF1ZXN0fSB4aHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBSZXNwb25zZShyZXEsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMucmVxID0gcmVxO1xuICB0aGlzLnhociA9IHRoaXMucmVxLnhocjtcbiAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuICB0aGlzLnRleHQgPSAoKHRoaXMucmVxLm1ldGhvZCAhPSdIRUFEJyAmJiAodGhpcy54aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JykpIHx8IHR5cGVvZiB0aGlzLnhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKVxuICAgICA/IHRoaXMueGhyLnJlc3BvbnNlVGV4dFxuICAgICA6IG51bGw7XG4gIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMucmVxLnhoci5zdGF0dXNUZXh0O1xuICB0aGlzLnNldFN0YXR1c1Byb3BlcnRpZXModGhpcy54aHIuc3RhdHVzKTtcbiAgdGhpcy5oZWFkZXIgPSB0aGlzLmhlYWRlcnMgPSBwYXJzZUhlYWRlcih0aGlzLnhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7XG4gIC8vIGdldEFsbFJlc3BvbnNlSGVhZGVycyBzb21ldGltZXMgZmFsc2VseSByZXR1cm5zIFwiXCIgZm9yIENPUlMgcmVxdWVzdHMsIGJ1dFxuICAvLyBnZXRSZXNwb25zZUhlYWRlciBzdGlsbCB3b3Jrcy4gc28gd2UgZ2V0IGNvbnRlbnQtdHlwZSBldmVuIGlmIGdldHRpbmdcbiAgLy8gb3RoZXIgaGVhZGVycyBmYWlscy5cbiAgdGhpcy5oZWFkZXJbJ2NvbnRlbnQtdHlwZSddID0gdGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpO1xuICB0aGlzLnNldEhlYWRlclByb3BlcnRpZXModGhpcy5oZWFkZXIpO1xuICB0aGlzLmJvZHkgPSB0aGlzLnJlcS5tZXRob2QgIT0gJ0hFQUQnXG4gICAgPyB0aGlzLnBhcnNlQm9keSh0aGlzLnRleHQgPyB0aGlzLnRleHQgOiB0aGlzLnhoci5yZXNwb25zZSlcbiAgICA6IG51bGw7XG59XG5cbi8qKlxuICogR2V0IGNhc2UtaW5zZW5zaXRpdmUgYGZpZWxkYCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVzcG9uc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGZpZWxkKXtcbiAgcmV0dXJuIHRoaXMuaGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xufTtcblxuLyoqXG4gKiBTZXQgaGVhZGVyIHJlbGF0ZWQgcHJvcGVydGllczpcbiAqXG4gKiAgIC0gYC50eXBlYCB0aGUgY29udGVudCB0eXBlIHdpdGhvdXQgcGFyYW1zXG4gKlxuICogQSByZXNwb25zZSBvZiBcIkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiXG4gKiB3aWxsIHByb3ZpZGUgeW91IHdpdGggYSBgLnR5cGVgIG9mIFwidGV4dC9wbGFpblwiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS5zZXRIZWFkZXJQcm9wZXJ0aWVzID0gZnVuY3Rpb24oaGVhZGVyKXtcbiAgLy8gY29udGVudC10eXBlXG4gIHZhciBjdCA9IHRoaXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSB8fCAnJztcbiAgdGhpcy50eXBlID0gdHlwZShjdCk7XG5cbiAgLy8gcGFyYW1zXG4gIHZhciBvYmogPSBwYXJhbXMoY3QpO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB0aGlzW2tleV0gPSBvYmpba2V5XTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGJvZHkgYHN0cmAuXG4gKlxuICogVXNlZCBmb3IgYXV0by1wYXJzaW5nIG9mIGJvZGllcy4gUGFyc2Vyc1xuICogYXJlIGRlZmluZWQgb24gdGhlIGBzdXBlcmFnZW50LnBhcnNlYCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXNwb25zZS5wcm90b3R5cGUucGFyc2VCb2R5ID0gZnVuY3Rpb24oc3RyKXtcbiAgdmFyIHBhcnNlID0gcmVxdWVzdC5wYXJzZVt0aGlzLnR5cGVdO1xuICByZXR1cm4gcGFyc2UgJiYgc3RyICYmIChzdHIubGVuZ3RoIHx8IHN0ciBpbnN0YW5jZW9mIE9iamVjdClcbiAgICA/IHBhcnNlKHN0cilcbiAgICA6IG51bGw7XG59O1xuXG4vKipcbiAqIFNldCBmbGFncyBzdWNoIGFzIGAub2tgIGJhc2VkIG9uIGBzdGF0dXNgLlxuICpcbiAqIEZvciBleGFtcGxlIGEgMnh4IHJlc3BvbnNlIHdpbGwgZ2l2ZSB5b3UgYSBgLm9rYCBvZiBfX3RydWVfX1xuICogd2hlcmVhcyA1eHggd2lsbCBiZSBfX2ZhbHNlX18gYW5kIGAuZXJyb3JgIHdpbGwgYmUgX190cnVlX18uIFRoZVxuICogYC5jbGllbnRFcnJvcmAgYW5kIGAuc2VydmVyRXJyb3JgIGFyZSBhbHNvIGF2YWlsYWJsZSB0byBiZSBtb3JlXG4gKiBzcGVjaWZpYywgYW5kIGAuc3RhdHVzVHlwZWAgaXMgdGhlIGNsYXNzIG9mIGVycm9yIHJhbmdpbmcgZnJvbSAxLi41XG4gKiBzb21ldGltZXMgdXNlZnVsIGZvciBtYXBwaW5nIHJlc3BvbmQgY29sb3JzIGV0Yy5cbiAqXG4gKiBcInN1Z2FyXCIgcHJvcGVydGllcyBhcmUgYWxzbyBkZWZpbmVkIGZvciBjb21tb24gY2FzZXMuIEN1cnJlbnRseSBwcm92aWRpbmc6XG4gKlxuICogICAtIC5ub0NvbnRlbnRcbiAqICAgLSAuYmFkUmVxdWVzdFxuICogICAtIC51bmF1dGhvcml6ZWRcbiAqICAgLSAubm90QWNjZXB0YWJsZVxuICogICAtIC5ub3RGb3VuZFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGF0dXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS5zZXRTdGF0dXNQcm9wZXJ0aWVzID0gZnVuY3Rpb24oc3RhdHVzKXtcbiAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICBpZiAoc3RhdHVzID09PSAxMjIzKSB7XG4gICAgc3RhdHVzID0gMjA0O1xuICB9XG5cbiAgdmFyIHR5cGUgPSBzdGF0dXMgLyAxMDAgfCAwO1xuXG4gIC8vIHN0YXR1cyAvIGNsYXNzXG4gIHRoaXMuc3RhdHVzID0gdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzO1xuICB0aGlzLnN0YXR1c1R5cGUgPSB0eXBlO1xuXG4gIC8vIGJhc2ljc1xuICB0aGlzLmluZm8gPSAxID09IHR5cGU7XG4gIHRoaXMub2sgPSAyID09IHR5cGU7XG4gIHRoaXMuY2xpZW50RXJyb3IgPSA0ID09IHR5cGU7XG4gIHRoaXMuc2VydmVyRXJyb3IgPSA1ID09IHR5cGU7XG4gIHRoaXMuZXJyb3IgPSAoNCA9PSB0eXBlIHx8IDUgPT0gdHlwZSlcbiAgICA/IHRoaXMudG9FcnJvcigpXG4gICAgOiBmYWxzZTtcblxuICAvLyBzdWdhclxuICB0aGlzLmFjY2VwdGVkID0gMjAyID09IHN0YXR1cztcbiAgdGhpcy5ub0NvbnRlbnQgPSAyMDQgPT0gc3RhdHVzO1xuICB0aGlzLmJhZFJlcXVlc3QgPSA0MDAgPT0gc3RhdHVzO1xuICB0aGlzLnVuYXV0aG9yaXplZCA9IDQwMSA9PSBzdGF0dXM7XG4gIHRoaXMubm90QWNjZXB0YWJsZSA9IDQwNiA9PSBzdGF0dXM7XG4gIHRoaXMubm90Rm91bmQgPSA0MDQgPT0gc3RhdHVzO1xuICB0aGlzLmZvcmJpZGRlbiA9IDQwMyA9PSBzdGF0dXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBhbiBgRXJyb3JgIHJlcHJlc2VudGF0aXZlIG9mIHRoaXMgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybiB7RXJyb3J9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlc3BvbnNlLnByb3RvdHlwZS50b0Vycm9yID0gZnVuY3Rpb24oKXtcbiAgdmFyIHJlcSA9IHRoaXMucmVxO1xuICB2YXIgbWV0aG9kID0gcmVxLm1ldGhvZDtcbiAgdmFyIHVybCA9IHJlcS51cmw7XG5cbiAgdmFyIG1zZyA9ICdjYW5ub3QgJyArIG1ldGhvZCArICcgJyArIHVybCArICcgKCcgKyB0aGlzLnN0YXR1cyArICcpJztcbiAgdmFyIGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSBtZXRob2Q7XG4gIGVyci51cmwgPSB1cmw7XG5cbiAgcmV0dXJuIGVycjtcbn07XG5cbi8qKlxuICogRXhwb3NlIGBSZXNwb25zZWAuXG4gKi9cblxucmVxdWVzdC5SZXNwb25zZSA9IFJlc3BvbnNlO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJlcXVlc3RgIHdpdGggdGhlIGdpdmVuIGBtZXRob2RgIGFuZCBgdXJsYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9xdWVyeSA9IHRoaXMuX3F1ZXJ5IHx8IFtdO1xuICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgdGhpcy51cmwgPSB1cmw7XG4gIHRoaXMuaGVhZGVyID0ge307IC8vIHByZXNlcnZlcyBoZWFkZXIgbmFtZSBjYXNlXG4gIHRoaXMuX2hlYWRlciA9IHt9OyAvLyBjb2VyY2VzIGhlYWRlciBuYW1lcyB0byBsb3dlcmNhc2VcbiAgdGhpcy5vbignZW5kJywgZnVuY3Rpb24oKXtcbiAgICB2YXIgZXJyID0gbnVsbDtcbiAgICB2YXIgcmVzID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICByZXMgPSBuZXcgUmVzcG9uc2Uoc2VsZik7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBlcnIgPSBuZXcgRXJyb3IoJ1BhcnNlciBpcyB1bmFibGUgdG8gcGFyc2UgdGhlIHJlc3BvbnNlJyk7XG4gICAgICBlcnIucGFyc2UgPSB0cnVlO1xuICAgICAgZXJyLm9yaWdpbmFsID0gZTtcbiAgICAgIC8vIGlzc3VlICM2NzU6IHJldHVybiB0aGUgcmF3IHJlc3BvbnNlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaWxzXG4gICAgICBlcnIucmF3UmVzcG9uc2UgPSBzZWxmLnhociAmJiBzZWxmLnhoci5yZXNwb25zZVRleHQgPyBzZWxmLnhoci5yZXNwb25zZVRleHQgOiBudWxsO1xuICAgICAgLy8gaXNzdWUgIzg3NjogcmV0dXJuIHRoZSBodHRwIHN0YXR1cyBjb2RlIGlmIHRoZSByZXNwb25zZSBwYXJzaW5nIGZhaWxzXG4gICAgICBlcnIuc3RhdHVzQ29kZSA9IHNlbGYueGhyICYmIHNlbGYueGhyLnN0YXR1cyA/IHNlbGYueGhyLnN0YXR1cyA6IG51bGw7XG4gICAgICByZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIpO1xuICAgIH1cblxuICAgIHNlbGYuZW1pdCgncmVzcG9uc2UnLCByZXMpO1xuXG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIHNlbGYuY2FsbGJhY2soZXJyLCByZXMpO1xuICAgIH1cblxuICAgIGlmIChyZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDwgMzAwKSB7XG4gICAgICByZXR1cm4gc2VsZi5jYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgfVxuXG4gICAgdmFyIG5ld19lcnIgPSBuZXcgRXJyb3IocmVzLnN0YXR1c1RleHQgfHwgJ1Vuc3VjY2Vzc2Z1bCBIVFRQIHJlc3BvbnNlJyk7XG4gICAgbmV3X2Vyci5vcmlnaW5hbCA9IGVycjtcbiAgICBuZXdfZXJyLnJlc3BvbnNlID0gcmVzO1xuICAgIG5ld19lcnIuc3RhdHVzID0gcmVzLnN0YXR1cztcblxuICAgIHNlbGYuY2FsbGJhY2sobmV3X2VyciwgcmVzKTtcbiAgfSk7XG59XG5cbi8qKlxuICogTWl4aW4gYEVtaXR0ZXJgIGFuZCBgcmVxdWVzdEJhc2VgLlxuICovXG5cbkVtaXR0ZXIoUmVxdWVzdC5wcm90b3R5cGUpO1xuZm9yICh2YXIga2V5IGluIHJlcXVlc3RCYXNlKSB7XG4gIFJlcXVlc3QucHJvdG90eXBlW2tleV0gPSByZXF1ZXN0QmFzZVtrZXldO1xufVxuXG4vKipcbiAqIEFib3J0IHRoZSByZXF1ZXN0LCBhbmQgY2xlYXIgcG90ZW50aWFsIHRpbWVvdXQuXG4gKlxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbigpe1xuICBpZiAodGhpcy5hYm9ydGVkKSByZXR1cm47XG4gIHRoaXMuYWJvcnRlZCA9IHRydWU7XG4gIHRoaXMueGhyLmFib3J0KCk7XG4gIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG4gIHRoaXMuZW1pdCgnYWJvcnQnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCBDb250ZW50LVR5cGUgdG8gYHR5cGVgLCBtYXBwaW5nIHZhbHVlcyBmcm9tIGByZXF1ZXN0LnR5cGVzYC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHN1cGVyYWdlbnQudHlwZXMueG1sID0gJ2FwcGxpY2F0aW9uL3htbCc7XG4gKlxuICogICAgICByZXF1ZXN0LnBvc3QoJy8nKVxuICogICAgICAgIC50eXBlKCd4bWwnKVxuICogICAgICAgIC5zZW5kKHhtbHN0cmluZylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcXVlc3QucG9zdCgnLycpXG4gKiAgICAgICAgLnR5cGUoJ2FwcGxpY2F0aW9uL3htbCcpXG4gKiAgICAgICAgLnNlbmQoeG1sc3RyaW5nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uKHR5cGUpe1xuICB0aGlzLnNldCgnQ29udGVudC1UeXBlJywgcmVxdWVzdC50eXBlc1t0eXBlXSB8fCB0eXBlKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCByZXNwb25zZVR5cGUgdG8gYHZhbGAuIFByZXNlbnRseSB2YWxpZCByZXNwb25zZVR5cGVzIGFyZSAnYmxvYicgYW5kIFxuICogJ2FycmF5YnVmZmVyJy5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHJlcS5nZXQoJy8nKVxuICogICAgICAgIC5yZXNwb25zZVR5cGUoJ2Jsb2InKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5yZXNwb25zZVR5cGUgPSBmdW5jdGlvbih2YWwpe1xuICB0aGlzLl9yZXNwb25zZVR5cGUgPSB2YWw7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgQWNjZXB0IHRvIGB0eXBlYCwgbWFwcGluZyB2YWx1ZXMgZnJvbSBgcmVxdWVzdC50eXBlc2AuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgICBzdXBlcmFnZW50LnR5cGVzLmpzb24gPSAnYXBwbGljYXRpb24vanNvbic7XG4gKlxuICogICAgICByZXF1ZXN0LmdldCgnL2FnZW50JylcbiAqICAgICAgICAuYWNjZXB0KCdqc29uJylcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiAgICAgIHJlcXVlc3QuZ2V0KCcvYWdlbnQnKVxuICogICAgICAgIC5hY2NlcHQoJ2FwcGxpY2F0aW9uL2pzb24nKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhY2NlcHRcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbih0eXBlKXtcbiAgdGhpcy5zZXQoJ0FjY2VwdCcsIHJlcXVlc3QudHlwZXNbdHlwZV0gfHwgdHlwZSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgQXV0aG9yaXphdGlvbiBmaWVsZCB2YWx1ZSB3aXRoIGB1c2VyYCBhbmQgYHBhc3NgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFzc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgd2l0aCAndHlwZScgcHJvcGVydHkgJ2F1dG8nIG9yICdiYXNpYycgKGRlZmF1bHQgJ2Jhc2ljJylcbiAqIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hdXRoID0gZnVuY3Rpb24odXNlciwgcGFzcywgb3B0aW9ucyl7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICB0eXBlOiAnYmFzaWMnXG4gICAgfVxuICB9XG5cbiAgc3dpdGNoIChvcHRpb25zLnR5cGUpIHtcbiAgICBjYXNlICdiYXNpYyc6XG4gICAgICB2YXIgc3RyID0gYnRvYSh1c2VyICsgJzonICsgcGFzcyk7XG4gICAgICB0aGlzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICsgc3RyKTtcbiAgICBicmVhaztcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgdGhpcy51c2VybmFtZSA9IHVzZXI7XG4gICAgICB0aGlzLnBhc3N3b3JkID0gcGFzcztcbiAgICBicmVhaztcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuKiBBZGQgcXVlcnktc3RyaW5nIGB2YWxgLlxuKlxuKiBFeGFtcGxlczpcbipcbiogICByZXF1ZXN0LmdldCgnL3Nob2VzJylcbiogICAgIC5xdWVyeSgnc2l6ZT0xMCcpXG4qICAgICAucXVlcnkoeyBjb2xvcjogJ2JsdWUnIH0pXG4qXG4qIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gdmFsXG4qIEByZXR1cm4ge1JlcXVlc3R9IGZvciBjaGFpbmluZ1xuKiBAYXBpIHB1YmxpY1xuKi9cblxuUmVxdWVzdC5wcm90b3R5cGUucXVlcnkgPSBmdW5jdGlvbih2YWwpe1xuICBpZiAoJ3N0cmluZycgIT0gdHlwZW9mIHZhbCkgdmFsID0gc2VyaWFsaXplKHZhbCk7XG4gIGlmICh2YWwpIHRoaXMuX3F1ZXJ5LnB1c2godmFsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFF1ZXVlIHRoZSBnaXZlbiBgZmlsZWAgYXMgYW4gYXR0YWNobWVudCB0byB0aGUgc3BlY2lmaWVkIGBmaWVsZGAsXG4gKiB3aXRoIG9wdGlvbmFsIGBmaWxlbmFtZWAuXG4gKlxuICogYGBgIGpzXG4gKiByZXF1ZXN0LnBvc3QoJy91cGxvYWQnKVxuICogICAuYXR0YWNoKG5ldyBCbG9iKFsnPGEgaWQ9XCJhXCI+PGIgaWQ9XCJiXCI+aGV5ITwvYj48L2E+J10sIHsgdHlwZTogXCJ0ZXh0L2h0bWxcIn0pKVxuICogICAuZW5kKGNhbGxiYWNrKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICogQHBhcmFtIHtCbG9ifEZpbGV9IGZpbGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uKGZpZWxkLCBmaWxlLCBmaWxlbmFtZSl7XG4gIGlmICghdGhpcy5fZm9ybURhdGEpIHRoaXMuX2Zvcm1EYXRhID0gbmV3IHJvb3QuRm9ybURhdGEoKTtcbiAgdGhpcy5fZm9ybURhdGEuYXBwZW5kKGZpZWxkLCBmaWxlLCBmaWxlbmFtZSB8fCBmaWxlLm5hbWUpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2VuZCBgZGF0YWAgYXMgdGhlIHJlcXVlc3QgYm9keSwgZGVmYXVsdGluZyB0aGUgYC50eXBlKClgIHRvIFwianNvblwiIHdoZW5cbiAqIGFuIG9iamVjdCBpcyBnaXZlbi5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgICAvLyBtYW51YWwganNvblxuICogICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gKiAgICAgICAgIC50eXBlKCdqc29uJylcbiAqICAgICAgICAgLnNlbmQoJ3tcIm5hbWVcIjpcInRqXCJ9JylcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBhdXRvIGpzb25cbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAuc2VuZCh7IG5hbWU6ICd0aicgfSlcbiAqICAgICAgICAgLmVuZChjYWxsYmFjaylcbiAqXG4gKiAgICAgICAvLyBtYW51YWwgeC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAgICAgICByZXF1ZXN0LnBvc3QoJy91c2VyJylcbiAqICAgICAgICAgLnR5cGUoJ2Zvcm0nKVxuICogICAgICAgICAuc2VuZCgnbmFtZT10aicpXG4gKiAgICAgICAgIC5lbmQoY2FsbGJhY2spXG4gKlxuICogICAgICAgLy8gYXV0byB4LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqICAgICAgIHJlcXVlc3QucG9zdCgnL3VzZXInKVxuICogICAgICAgICAudHlwZSgnZm9ybScpXG4gKiAgICAgICAgIC5zZW5kKHsgbmFtZTogJ3RqJyB9KVxuICogICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqICAgICAgIC8vIGRlZmF1bHRzIHRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICAqICAgICAgcmVxdWVzdC5wb3N0KCcvdXNlcicpXG4gICogICAgICAgIC5zZW5kKCduYW1lPXRvYmknKVxuICAqICAgICAgICAuc2VuZCgnc3BlY2llcz1mZXJyZXQnKVxuICAqICAgICAgICAuZW5kKGNhbGxiYWNrKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gZGF0YVxuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihkYXRhKXtcbiAgdmFyIG9iaiA9IGlzT2JqZWN0KGRhdGEpO1xuICB2YXIgdHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG5cbiAgLy8gbWVyZ2VcbiAgaWYgKG9iaiAmJiBpc09iamVjdCh0aGlzLl9kYXRhKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICB0aGlzLl9kYXRhW2tleV0gPSBkYXRhW2tleV07XG4gICAgfVxuICB9IGVsc2UgaWYgKCdzdHJpbmcnID09IHR5cGVvZiBkYXRhKSB7XG4gICAgaWYgKCF0eXBlKSB0aGlzLnR5cGUoJ2Zvcm0nKTtcbiAgICB0eXBlID0gdGhpcy5faGVhZGVyWydjb250ZW50LXR5cGUnXTtcbiAgICBpZiAoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgPT0gdHlwZSkge1xuICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuX2RhdGFcbiAgICAgICAgPyB0aGlzLl9kYXRhICsgJyYnICsgZGF0YVxuICAgICAgICA6IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2RhdGEgPSAodGhpcy5fZGF0YSB8fCAnJykgKyBkYXRhO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgfVxuXG4gIGlmICghb2JqIHx8IGlzSG9zdChkYXRhKSkgcmV0dXJuIHRoaXM7XG4gIGlmICghdHlwZSkgdGhpcy50eXBlKCdqc29uJyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBJbnZva2UgdGhlIGNhbGxiYWNrIHdpdGggYGVycmAgYW5kIGByZXNgXG4gKiBhbmQgaGFuZGxlIGFyaXR5IGNoZWNrLlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyclxuICogQHBhcmFtIHtSZXNwb25zZX0gcmVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5jYWxsYmFjayA9IGZ1bmN0aW9uKGVyciwgcmVzKXtcbiAgdmFyIGZuID0gdGhpcy5fY2FsbGJhY2s7XG4gIHRoaXMuY2xlYXJUaW1lb3V0KCk7XG4gIGZuKGVyciwgcmVzKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggeC1kb21haW4gZXJyb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuY3Jvc3NEb21haW5FcnJvciA9IGZ1bmN0aW9uKCl7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIGJlZW4gdGVybWluYXRlZFxcblBvc3NpYmxlIGNhdXNlczogdGhlIG5ldHdvcmsgaXMgb2ZmbGluZSwgT3JpZ2luIGlzIG5vdCBhbGxvd2VkIGJ5IEFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiwgdGhlIHBhZ2UgaXMgYmVpbmcgdW5sb2FkZWQsIGV0Yy4nKTtcbiAgZXJyLmNyb3NzRG9tYWluID0gdHJ1ZTtcblxuICBlcnIuc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gIGVyci5tZXRob2QgPSB0aGlzLm1ldGhvZDtcbiAgZXJyLnVybCA9IHRoaXMudXJsO1xuXG4gIHRoaXMuY2FsbGJhY2soZXJyKTtcbn07XG5cbi8qKlxuICogSW52b2tlIGNhbGxiYWNrIHdpdGggdGltZW91dCBlcnJvci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS50aW1lb3V0RXJyb3IgPSBmdW5jdGlvbigpe1xuICB2YXIgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gIHZhciBlcnIgPSBuZXcgRXJyb3IoJ3RpbWVvdXQgb2YgJyArIHRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnKTtcbiAgZXJyLnRpbWVvdXQgPSB0aW1lb3V0O1xuICB0aGlzLmNhbGxiYWNrKGVycik7XG59O1xuXG4vKipcbiAqIEVuYWJsZSB0cmFuc21pc3Npb24gb2YgY29va2llcyB3aXRoIHgtZG9tYWluIHJlcXVlc3RzLlxuICpcbiAqIE5vdGUgdGhhdCBmb3IgdGhpcyB0byB3b3JrIHRoZSBvcmlnaW4gbXVzdCBub3QgYmVcbiAqIHVzaW5nIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCIgd2l0aCBhIHdpbGRjYXJkLFxuICogYW5kIGFsc28gbXVzdCBzZXQgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiXG4gKiB0byBcInRydWVcIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblJlcXVlc3QucHJvdG90eXBlLndpdGhDcmVkZW50aWFscyA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuX3dpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBJbml0aWF0ZSByZXF1ZXN0LCBpbnZva2luZyBjYWxsYmFjayBgZm4ocmVzKWBcbiAqIHdpdGggYW4gaW5zdGFuY2VvZiBgUmVzcG9uc2VgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oZm4pe1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB4aHIgPSB0aGlzLnhociA9IHJlcXVlc3QuZ2V0WEhSKCk7XG4gIHZhciBxdWVyeSA9IHRoaXMuX3F1ZXJ5LmpvaW4oJyYnKTtcbiAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICB2YXIgZGF0YSA9IHRoaXMuX2Zvcm1EYXRhIHx8IHRoaXMuX2RhdGE7XG5cbiAgLy8gc3RvcmUgY2FsbGJhY2tcbiAgdGhpcy5fY2FsbGJhY2sgPSBmbiB8fCBub29wO1xuXG4gIC8vIHN0YXRlIGNoYW5nZVxuICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKXtcbiAgICBpZiAoNCAhPSB4aHIucmVhZHlTdGF0ZSkgcmV0dXJuO1xuXG4gICAgLy8gSW4gSUU5LCByZWFkcyB0byBhbnkgcHJvcGVydHkgKGUuZy4gc3RhdHVzKSBvZmYgb2YgYW4gYWJvcnRlZCBYSFIgd2lsbFxuICAgIC8vIHJlc3VsdCBpbiB0aGUgZXJyb3IgXCJDb3VsZCBub3QgY29tcGxldGUgdGhlIG9wZXJhdGlvbiBkdWUgdG8gZXJyb3IgYzAwYzAyM2ZcIlxuICAgIHZhciBzdGF0dXM7XG4gICAgdHJ5IHsgc3RhdHVzID0geGhyLnN0YXR1cyB9IGNhdGNoKGUpIHsgc3RhdHVzID0gMDsgfVxuXG4gICAgaWYgKDAgPT0gc3RhdHVzKSB7XG4gICAgICBpZiAoc2VsZi50aW1lZG91dCkgcmV0dXJuIHNlbGYudGltZW91dEVycm9yKCk7XG4gICAgICBpZiAoc2VsZi5hYm9ydGVkKSByZXR1cm47XG4gICAgICByZXR1cm4gc2VsZi5jcm9zc0RvbWFpbkVycm9yKCk7XG4gICAgfVxuICAgIHNlbGYuZW1pdCgnZW5kJyk7XG4gIH07XG5cbiAgLy8gcHJvZ3Jlc3NcbiAgdmFyIGhhbmRsZVByb2dyZXNzID0gZnVuY3Rpb24oZSl7XG4gICAgaWYgKGUudG90YWwgPiAwKSB7XG4gICAgICBlLnBlcmNlbnQgPSBlLmxvYWRlZCAvIGUudG90YWwgKiAxMDA7XG4gICAgfVxuICAgIGUuZGlyZWN0aW9uID0gJ2Rvd25sb2FkJztcbiAgICBzZWxmLmVtaXQoJ3Byb2dyZXNzJywgZSk7XG4gIH07XG4gIGlmICh0aGlzLmhhc0xpc3RlbmVycygncHJvZ3Jlc3MnKSkge1xuICAgIHhoci5vbnByb2dyZXNzID0gaGFuZGxlUHJvZ3Jlc3M7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAoeGhyLnVwbG9hZCAmJiB0aGlzLmhhc0xpc3RlbmVycygncHJvZ3Jlc3MnKSkge1xuICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gaGFuZGxlUHJvZ3Jlc3M7XG4gICAgfVxuICB9IGNhdGNoKGUpIHtcbiAgICAvLyBBY2Nlc3NpbmcgeGhyLnVwbG9hZCBmYWlscyBpbiBJRSBmcm9tIGEgd2ViIHdvcmtlciwgc28ganVzdCBwcmV0ZW5kIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgLy8gUmVwb3J0ZWQgaGVyZTpcbiAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzgzNzI0NS94bWxodHRwcmVxdWVzdC11cGxvYWQtdGhyb3dzLWludmFsaWQtYXJndW1lbnQtd2hlbi11c2VkLWZyb20td2ViLXdvcmtlci1jb250ZXh0XG4gIH1cblxuICAvLyB0aW1lb3V0XG4gIGlmICh0aW1lb3V0ICYmICF0aGlzLl90aW1lcikge1xuICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgc2VsZi50aW1lZG91dCA9IHRydWU7XG4gICAgICBzZWxmLmFib3J0KCk7XG4gICAgfSwgdGltZW91dCk7XG4gIH1cblxuICAvLyBxdWVyeXN0cmluZ1xuICBpZiAocXVlcnkpIHtcbiAgICBxdWVyeSA9IHJlcXVlc3Quc2VyaWFsaXplT2JqZWN0KHF1ZXJ5KTtcbiAgICB0aGlzLnVybCArPSB+dGhpcy51cmwuaW5kZXhPZignPycpXG4gICAgICA/ICcmJyArIHF1ZXJ5XG4gICAgICA6ICc/JyArIHF1ZXJ5O1xuICB9XG5cbiAgLy8gaW5pdGlhdGUgcmVxdWVzdFxuICBpZiAodGhpcy51c2VybmFtZSAmJiB0aGlzLnBhc3N3b3JkKSB7XG4gICAgeGhyLm9wZW4odGhpcy5tZXRob2QsIHRoaXMudXJsLCB0cnVlLCB0aGlzLnVzZXJuYW1lLCB0aGlzLnBhc3N3b3JkKTtcbiAgfSBlbHNlIHtcbiAgICB4aHIub3Blbih0aGlzLm1ldGhvZCwgdGhpcy51cmwsIHRydWUpO1xuICB9XG5cbiAgLy8gQ09SU1xuICBpZiAodGhpcy5fd2l0aENyZWRlbnRpYWxzKSB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcblxuICAvLyBib2R5XG4gIGlmICgnR0VUJyAhPSB0aGlzLm1ldGhvZCAmJiAnSEVBRCcgIT0gdGhpcy5tZXRob2QgJiYgJ3N0cmluZycgIT0gdHlwZW9mIGRhdGEgJiYgIWlzSG9zdChkYXRhKSkge1xuICAgIC8vIHNlcmlhbGl6ZSBzdHVmZlxuICAgIHZhciBjb250ZW50VHlwZSA9IHRoaXMuX2hlYWRlclsnY29udGVudC10eXBlJ107XG4gICAgdmFyIHNlcmlhbGl6ZSA9IHRoaXMuX3BhcnNlciB8fCByZXF1ZXN0LnNlcmlhbGl6ZVtjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JylbMF0gOiAnJ107XG4gICAgaWYgKCFzZXJpYWxpemUgJiYgaXNKU09OKGNvbnRlbnRUeXBlKSkgc2VyaWFsaXplID0gcmVxdWVzdC5zZXJpYWxpemVbJ2FwcGxpY2F0aW9uL2pzb24nXTtcbiAgICBpZiAoc2VyaWFsaXplKSBkYXRhID0gc2VyaWFsaXplKGRhdGEpO1xuICB9XG5cbiAgLy8gc2V0IGhlYWRlciBmaWVsZHNcbiAgZm9yICh2YXIgZmllbGQgaW4gdGhpcy5oZWFkZXIpIHtcbiAgICBpZiAobnVsbCA9PSB0aGlzLmhlYWRlcltmaWVsZF0pIGNvbnRpbnVlO1xuICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGZpZWxkLCB0aGlzLmhlYWRlcltmaWVsZF0pO1xuICB9XG5cbiAgaWYgKHRoaXMuX3Jlc3BvbnNlVHlwZSkge1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGU7XG4gIH1cblxuICAvLyBzZW5kIHN0dWZmXG4gIHRoaXMuZW1pdCgncmVxdWVzdCcsIHRoaXMpO1xuXG4gIC8vIElFMTEgeGhyLnNlbmQodW5kZWZpbmVkKSBzZW5kcyAndW5kZWZpbmVkJyBzdHJpbmcgYXMgUE9TVCBwYXlsb2FkIChpbnN0ZWFkIG9mIG5vdGhpbmcpXG4gIC8vIFdlIG5lZWQgbnVsbCBoZXJlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gIHhoci5zZW5kKHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJyA/IGRhdGEgOiBudWxsKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogRXhwb3NlIGBSZXF1ZXN0YC5cbiAqL1xuXG5yZXF1ZXN0LlJlcXVlc3QgPSBSZXF1ZXN0O1xuXG4vKipcbiAqIEdFVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBkYXRhIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5nZXQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ0dFVCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuICBpZiAoZGF0YSkgcmVxLnF1ZXJ5KGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBIRUFEIGB1cmxgIHdpdGggb3B0aW9uYWwgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR8RnVuY3Rpb259IGRhdGEgb3IgZm5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LmhlYWQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ0hFQUQnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBERUxFVEUgYHVybGAgd2l0aCBvcHRpb25hbCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRlbCh1cmwsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ0RFTEVURScsIHVybCk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG5yZXF1ZXN0WydkZWwnXSA9IGRlbDtcbnJlcXVlc3RbJ2RlbGV0ZSddID0gZGVsO1xuXG4vKipcbiAqIFBBVENIIGB1cmxgIHdpdGggb3B0aW9uYWwgYGRhdGFgIGFuZCBjYWxsYmFjayBgZm4ocmVzKWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtNaXhlZH0gZGF0YVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbnJlcXVlc3QucGF0Y2ggPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BBVENIJywgdXJsKTtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIGRhdGEpIGZuID0gZGF0YSwgZGF0YSA9IG51bGw7XG4gIGlmIChkYXRhKSByZXEuc2VuZChkYXRhKTtcbiAgaWYgKGZuKSByZXEuZW5kKGZuKTtcbiAgcmV0dXJuIHJlcTtcbn07XG5cbi8qKlxuICogUE9TVCBgdXJsYCB3aXRoIG9wdGlvbmFsIGBkYXRhYCBhbmQgY2FsbGJhY2sgYGZuKHJlcylgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7TWl4ZWR9IGRhdGFcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5yZXF1ZXN0LnBvc3QgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BPU1QnLCB1cmwpO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgZGF0YSkgZm4gPSBkYXRhLCBkYXRhID0gbnVsbDtcbiAgaWYgKGRhdGEpIHJlcS5zZW5kKGRhdGEpO1xuICBpZiAoZm4pIHJlcS5lbmQoZm4pO1xuICByZXR1cm4gcmVxO1xufTtcblxuLyoqXG4gKiBQVVQgYHVybGAgd2l0aCBvcHRpb25hbCBgZGF0YWAgYW5kIGNhbGxiYWNrIGBmbihyZXMpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge01peGVkfEZ1bmN0aW9ufSBkYXRhIG9yIGZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxucmVxdWVzdC5wdXQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIGZuKXtcbiAgdmFyIHJlcSA9IHJlcXVlc3QoJ1BVVCcsIHVybCk7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBkYXRhKSBmbiA9IGRhdGEsIGRhdGEgPSBudWxsO1xuICBpZiAoZGF0YSkgcmVxLnNlbmQoZGF0YSk7XG4gIGlmIChmbikgcmVxLmVuZChmbik7XG4gIHJldHVybiByZXE7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3VwZXJhZ2VudC9saWIvY2xpZW50LmpzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports){eval("/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return null != obj && 'object' == typeof obj;\n}\n\nmodule.exports = isObject;\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL34vc3VwZXJhZ2VudC9saWIvaXMtb2JqZWN0LmpzPzllZGQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVjayBpZiBgb2JqYCBpcyBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gbnVsbCAhPSBvYmogJiYgJ29iamVjdCcgPT0gdHlwZW9mIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N1cGVyYWdlbnQvbGliL2lzLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar initDialog = function initDialog(canvas) {\n    document.querySelector('#dialog-yes').addEventListener('click', function (event) {\n        canvas.clear();\n        var className = 'show';\n        if (document.querySelector('.dialog').classList) document.querySelector('.dialog').classList.remove(className);else document.querySelector('.dialog').className = document.querySelector('.dialog').className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    });\n    document.querySelector('#dialog-cancel').addEventListener('click', function (event) {\n        var className = 'show';\n        if (document.querySelector('.dialog').classList) document.querySelector('.dialog').classList.remove(className);else document.querySelector('.dialog').className = document.querySelector('.dialog').className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    });\n};\nvar showDialog = function showDialog() {\n    var className = 'show';\n    if (document.querySelector('.dialog').classList) document.querySelector('.dialog').classList.add(className);else document.querySelector('.dialog').className += ' ' + className;\n};\nexports.initDialog = initDialog;\nexports.showDialog = showDialog;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL2RpYWxvZy5qcz9lOWJhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGluaXREaWFsb2cgPSAoY2FudmFzKT0+e1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RpYWxvZy15ZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGNhbnZhcy5jbGVhcigpO1xyXG4gICAgICAgIGxldCBjbGFzc05hbWUgPSAnc2hvdyc7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kaWFsb2cnKS5jbGFzc0xpc3QpXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kaWFsb2cnKS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGlhbG9nJykuY2xhc3NOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpYWxvZycpLmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcXFxifCQpJywgJ2dpJyksICcgJyk7XHJcblxyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlhbG9nLWNhbmNlbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IGNsYXNzTmFtZSA9ICdzaG93JztcclxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpYWxvZycpLmNsYXNzTGlzdClcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpYWxvZycpLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kaWFsb2cnKS5jbGFzc05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGlhbG9nJykuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcclxuICAgIH0pO1xyXG59XHJcbmNvbnN0IHNob3dEaWFsb2cgPSAoKT0+e1xyXG4gICAgbGV0IGNsYXNzTmFtZSA9ICdzaG93JztcclxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGlhbG9nJykuY2xhc3NMaXN0KVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kaWFsb2cnKS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpYWxvZycpLmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XHJcbn1cclxuZXhwb3J0IHsgaW5pdERpYWxvZywgc2hvd0RpYWxvZ307XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2FwcC9kaWFsb2cuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBU0E7QUFDQTtBQUNBO0FBRkE7QUFWQTtBQWtCQTtBQUNBO0FBQ0E7QUFGQTtBQU9BO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (eraserConfig, Event) {\n    parseIndicator();\n    document.querySelector('#eraserSize').addEventListener('input', function (event) {\n        var fontSize = event.target.value;\n        if (!isNaN(parseFloat(fontSize)) && isFinite(fontSize)) {\n            parseIndicator();\n            eraserConfig.eraserSize = parseFloat(fontSize);\n            Event.emit('ERASER_CONFIG_CHANGED');\n        }\n    });\n    document.querySelector('#eraserStyle').addEventListener('change', function (event) {\n        eraserConfig.eraserStyle = event.target.value;\n        Event.emit('ERASER_CONFIG_CHANGED');\n    });\n};\n\nexports.parseEraserConfig = parseEraserConfig;\nfunction parseEraserConfig(eraserConfig, canvas) {\n    var postConfig = {\n        style: null,\n        size: eraserConfig.eraserSize\n    };\n\n    switch (eraserConfig.eraserStyle) {\n        case 'pencil':\n            postConfig.style = new fabric['PencilBrush'](canvas);\n            break;\n        case 'square':\n            console.log('square');\n            postConfig.style = new fabric.SquareBrush(canvas);\n            break;\n        default:\n            postConfig.style = new fabric['PencilBrush'](canvas);\n            break;\n    }\n    return postConfig;\n}\nvar parseIndicator = function parseIndicator() {\n    var indicator = document.querySelector('.range__indicator');\n    var indication = parseInt(document.querySelector('#eraserSize').value) + 1;\n    indicator.style.left = indication + \"%\";\n    indicator.innerHTML = document.querySelector('#eraserSize').value;\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL2VyYXNlci5qcz9hYTYxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChlcmFzZXJDb25maWcsIEV2ZW50KSB7XHJcbiAgICBwYXJzZUluZGljYXRvcigpO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VyYXNlclNpemUnKS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldmVudCk9PntcclxuICAgICAgICBjb25zdCBmb250U2l6ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICBpZighaXNOYU4ocGFyc2VGbG9hdChmb250U2l6ZSkpICYmIGlzRmluaXRlKGZvbnRTaXplKSl7XHJcbiAgICAgICAgICAgIHBhcnNlSW5kaWNhdG9yKCk7XHJcbiAgICAgICAgICAgIGVyYXNlckNvbmZpZy5lcmFzZXJTaXplID0gcGFyc2VGbG9hdChmb250U2l6ZSk7XHJcbiAgICAgICAgICAgIEV2ZW50LmVtaXQoJ0VSQVNFUl9DT05GSUdfQ0hBTkdFRCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcmFzZXJTdHlsZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCk9PntcclxuICAgICAgICBlcmFzZXJDb25maWcuZXJhc2VyU3R5bGUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgRXZlbnQuZW1pdCgnRVJBU0VSX0NPTkZJR19DSEFOR0VEJyk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFcmFzZXJDb25maWcoZXJhc2VyQ29uZmlnLCBjYW52YXMpe1xyXG4gICAgbGV0IHBvc3RDb25maWcgPSB7XHJcbiAgICAgICAgc3R5bGU6IG51bGwsXHJcbiAgICAgICAgc2l6ZTogZXJhc2VyQ29uZmlnLmVyYXNlclNpemVcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2goZXJhc2VyQ29uZmlnLmVyYXNlclN0eWxlKXtcclxuICAgICAgICBjYXNlICdwZW5jaWwnOlxyXG4gICAgICAgICAgICBwb3N0Q29uZmlnLnN0eWxlID0gbmV3IGZhYnJpY1snUGVuY2lsQnJ1c2gnXShjYW52YXMpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdzcXVhcmUnOlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc3F1YXJlJyk7XHJcbiAgICAgICAgICAgIHBvc3RDb25maWcuc3R5bGUgPSBuZXcgZmFicmljLlNxdWFyZUJydXNoKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHBvc3RDb25maWcuc3R5bGUgPSBuZXcgZmFicmljWydQZW5jaWxCcnVzaCddKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvc3RDb25maWc7XHJcbn1cclxuY29uc3QgcGFyc2VJbmRpY2F0b3IgPSAoKT0+e1xyXG4gICAgbGV0IGluZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yYW5nZV9faW5kaWNhdG9yJyk7XHJcbiAgICBjb25zdCBpbmRpY2F0aW9uID0gcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VyYXNlclNpemUnKS52YWx1ZSkgKyAxO1xyXG4gICAgaW5kaWNhdG9yLnN0eWxlLmxlZnQgPSBpbmRpY2F0aW9uICsgXCIlXCI7XHJcbiAgICBpbmRpY2F0b3IuaW5uZXJIVE1MID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VyYXNlclNpemUnKS52YWx1ZTtcclxufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9hcHAvZXJhc2VyLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFGQTtBQVNBO0FBQ0E7QUFDQTtBQUZBO0FBWEE7QUFDQTtBQWVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQVZBO0FBWUE7QUFsQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBIiwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _keymirror = __webpack_require__(22);\n\nvar _keymirror2 = _interopRequireDefault(_keymirror);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (0, _keymirror2.default)({\n    LINE: null,\n    ROOM: null,\n    FURNITURE: null,\n    DRAG_FURNITURE: null,\n    LABEL: null,\n    DODDLE: null,\n    CLEAR: null,\n    ERASER: null,\n    CHANGE_TEMPLATE: null,\n    UNDO: null,\n    REDO: null,\n    DRAWING: null,\n    TEMPLATES: null\n});//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL2V2ZW50cy5qcz8yMGE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBrZXlNaXJyb3IgZnJvbSAna2V5bWlycm9yJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGtleU1pcnJvcih7XHJcbiAgICBMSU5FOiBudWxsLFxyXG4gICAgUk9PTTogbnVsbCxcclxuICAgIEZVUk5JVFVSRTogbnVsbCxcclxuICAgIERSQUdfRlVSTklUVVJFOiBudWxsLFxyXG4gICAgTEFCRUw6IG51bGwsXHJcbiAgICBET0RETEU6IG51bGwsXHJcbiAgICBDTEVBUjogbnVsbCxcclxuICAgIEVSQVNFUjogbnVsbCxcclxuICAgIENIQU5HRV9URU1QTEFURTogbnVsbCxcclxuICAgIFVORE86IG51bGwsXHJcbiAgICBSRURPOiBudWxsLFxyXG4gICAgRFJBV0lORzogbnVsbCxcclxuICAgIFRFTVBMQVRFUzogbnVsbFxyXG59KTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2FwcC9ldmVudHMuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQSIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar drawGrid = function drawGrid(canvas, grid_size, gridGroup) {\n\n    grid_size || (grid_size = 25);\n    var currentCanvasWidth = canvas.getWidth();\n    var currentCanvasHeight = canvas.getHeight();\n\n    // Drawing vertical lines\n    var x;\n    for (x = 0; x <= currentCanvasWidth; x += grid_size) {\n        var xLine = new fabric.Line([x, 0, x, currentCanvasHeight], {\n            left: x,\n            top: 0,\n            stroke: 'black'\n        });\n        gridGroup.addWithUpdate(xLine);\n    }\n\n    // Drawing horizontal lines\n    var y;\n    for (y = 0; y <= currentCanvasHeight; y += grid_size) {\n        var yLine = new fabric.Line([0, y, currentCanvasWidth, y], {\n            left: 0,\n            top: y,\n            stroke: 'black'\n        });\n        gridGroup.addWithUpdate(yLine);\n    }\n    gridGroup.set(\"selectable\", false);\n    canvas.add(gridGroup);\n};\nexports.drawGrid = drawGrid;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL2dyaWQuanM/N2I5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkcmF3R3JpZCA9IGZ1bmN0aW9uIChjYW52YXMsIGdyaWRfc2l6ZSwgZ3JpZEdyb3VwKSB7XHJcblxyXG4gICAgZ3JpZF9zaXplIHx8IChncmlkX3NpemUgPSAyNSk7XHJcbiAgICB2YXIgY3VycmVudENhbnZhc1dpZHRoID0gY2FudmFzLmdldFdpZHRoKCk7XHJcbiAgICB2YXIgY3VycmVudENhbnZhc0hlaWdodCA9IGNhbnZhcy5nZXRIZWlnaHQoKTtcclxuXHJcblxyXG4gICAgLy8gRHJhd2luZyB2ZXJ0aWNhbCBsaW5lc1xyXG4gICAgdmFyIHg7XHJcbiAgICBmb3IgKHggPSAwOyB4IDw9IGN1cnJlbnRDYW52YXNXaWR0aDsgeCArPSBncmlkX3NpemUpIHtcclxuICAgICAgICBsZXQgeExpbmUgPSBuZXcgZmFicmljLkxpbmUoW3gsIDAsIHgsIGN1cnJlbnRDYW52YXNIZWlnaHRdLCB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHgsXHJcbiAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnYmxhY2snXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZ3JpZEdyb3VwLmFkZFdpdGhVcGRhdGUoeExpbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERyYXdpbmcgaG9yaXpvbnRhbCBsaW5lc1xyXG4gICAgdmFyIHk7XHJcbiAgICBmb3IgKHkgPSAwOyB5IDw9IGN1cnJlbnRDYW52YXNIZWlnaHQ7IHkgKz0gZ3JpZF9zaXplKSB7XHJcbiAgICAgICAgbGV0IHlMaW5lID0gbmV3IGZhYnJpYy5MaW5lKFswLCB5LCBjdXJyZW50Q2FudmFzV2lkdGgsIHldLCB7XHJcbiAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgIHRvcDogeSxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnYmxhY2snXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZ3JpZEdyb3VwLmFkZFdpdGhVcGRhdGUoeUxpbmUpO1xyXG4gICAgfVxyXG4gICAgZ3JpZEdyb3VwLnNldChcInNlbGVjdGFibGVcIiwgZmFsc2UpO1xyXG4gICAgY2FudmFzLmFkZChncmlkR3JvdXApO1xyXG59XHJcbmV4cG9ydCB7IGRyYXdHcmlkIH1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvYXBwL2dyaWQuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUxBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFOQTtBQUNBOztBQVZBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBTkE7QUFRQTtBQUNBO0FBN0JBO0FBK0JBIiwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar iconDrag = function iconDrag(canvas, Event, STATE, furnitureURL, labelTag, labelConfig) {\n    var icons = document.querySelectorAll('.icon img');\n    [].forEach.call(icons, function (icon) {\n        icon.addEventListener('dragstart', function (event) {\n\n            //Event.emit('ICON_DRAG_START', event.target.src);\n            furnitureURL = event.target.src;\n\n            return false;\n        }, false);\n        icon.addEventListener('touchstart', function (event) {\n            //Event.emit('ICON_DRAG_START', event.target.src);\n            furnitureURL = event.target.src;\n\n            return false;\n        }, false);\n        icon.addEventListener('dragend', function (event) {\n            console.log('drag end');\n        }, false);\n    });\n    /*/label control\r\n    document.querySelector('#fontSize').addEventListener('change', (event)=>{\r\n        const fontSize = event.target.value;\r\n        if(!isNaN(parseFloat(fontSize)) && isFinite(fontSize)){\r\n            labelConfig.fontSize = parseFloat(fontSize);\r\n        }\r\n    });\r\n    document.querySelector('#fontStyle').addEventListener('change', (event)=>{\r\n        labelConfig.fontStyle = event.target.value;\r\n    });\r\n    document.querySelector('#fontWeight').addEventListener('change', (event)=>{\r\n        labelConfig.fontWeight = event.target.value;\r\n    });\r\n    /*\r\n    let labels = document.querySelectorAll('.label');\r\n    [].forEach.call(labels, (label)=>{\r\n        label.addEventListener('dragstart', (event)=>{\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            labelTag = label.innerHTML.trim();\r\n            return false;\r\n        }, false)\r\n    })\r\n    */\n    //end label control\n\n    var canvasContainer = document.querySelector('.canvas-container');\n\n    canvasContainer.addEventListener('click', function (e) {\n        e.preventDefault();\n        return false;\n    });\n    canvasContainer.addEventListener('dragenter', function (event) {\n        event.preventDefault();\n        return false;\n    });\n    canvasContainer.addEventListener('dragover', function (event) {\n        event.preventDefault();\n\n        event.dataTransfer.dropEffect = 'copy';\n        return false;\n    });\n\n    canvasContainer.addEventListener('dragleave', function (event) {\n        console.log('dragleave');\n        event.preventDefault();\n    });\n    canvasContainer.addEventListener('drop', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        if (labelTag !== null) {\n            canvas.add(new fabric.IText(labelTag, {\n                fontFamily: \"'Roboto', sans-serif\",\n                left: e.layerX,\n                top: e.layerY,\n                fontSize: labelConfig.fontSize,\n                fontWeight: labelConfig.fontWeight,\n                fontStyle: labelConfig.fontStyle,\n                hasBorders: true,\n                hasControls: false,\n                borderColor: '#2c3e50',\n                cornerColor: '#2c3e50',\n                cornerSize: 2,\n                transparentCorners: false\n            }));\n            var lastIndex = canvas._objects.length;\n            canvas.setActiveObject(canvas.item(lastIndex - 1));\n            labelTag = null;\n        }\n        if (furnitureURL !== null) {\n            (function () {\n                var cornerSize = 5;\n                fabric.loadSVGFromURL(furnitureURL, function (objects, options) {\n                    var svgObject = fabric.util.groupSVGElements(objects, options);\n                    if (svgObject.height > svgObject.width) {\n                        var rate = svgObject.getWidth() / svgObject.getHeight();\n                        if (rate < 0.2) {\n                            svgObject.set({\n                                left: e.layerX,\n                                top: e.layerY,\n                                hasBorders: true,\n                                hasControls: true,\n                                borderColor: '#2c3e50',\n                                cornerColor: '#2c3e50',\n                                transparentCorners: false,\n                                cornerSize: cornerSize,\n                                originX: 'center',\n                                originY: 'center',\n                                scaleX: 100 / svgObject.height,\n                                scaleY: 100 / svgObject.height\n                            });\n                        } else {\n                            svgObject.set({\n                                left: e.layerX,\n                                top: e.layerY,\n                                hasBorders: true,\n                                hasControls: true,\n                                borderColor: '#2c3e50',\n                                cornerColor: '#2c3e50',\n                                transparentCorners: false,\n                                cornerSize: cornerSize,\n                                originX: 'center',\n                                originY: 'center',\n                                scaleX: 50 / svgObject.height,\n                                scaleY: 50 / svgObject.height\n                            });\n                        }\n                    } else {\n                        var rate = svgObject.getHeight() / svgObject.getWidth();\n                        console.log(rate);\n                        if (rate < 0.2) {\n                            svgObject.set({\n                                left: e.layerX,\n                                top: e.layerY,\n                                hasBorders: true,\n                                hasControls: true,\n                                borderColor: '#2c3e50',\n                                cornerColor: '#2c3e50',\n                                transparentCorners: false,\n                                cornerSize: cornerSize,\n                                originX: 'center',\n                                originY: 'center',\n                                scaleX: 100 / svgObject.width,\n                                scaleY: 100 / svgObject.width\n                            });\n                        } else {\n                            svgObject.set({\n                                left: e.layerX,\n                                top: e.layerY,\n                                hasBorders: true,\n                                hasControls: true,\n                                borderColor: '#2c3e50',\n                                cornerColor: '#2c3e50',\n                                transparentCorners: false,\n                                cornerSize: cornerSize,\n                                originX: 'center',\n                                originY: 'center',\n                                scaleX: 50 / svgObject.width,\n                                scaleY: 50 / svgObject.width\n                            });\n                        }\n                    }\n                    canvas.add(svgObject);\n                    STATE = null;\n                    furnitureURL = null;\n                });\n            })();\n        }\n    });\n};\n\nexports.iconDrag = iconDrag;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL2ljb25EcmFnLmpzPzc5NDkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaWNvbkRyYWcgPSAoY2FudmFzLCBFdmVudCwgU1RBVEUsIGZ1cm5pdHVyZVVSTCwgbGFiZWxUYWcsIGxhYmVsQ29uZmlnKT0+e1xyXG4gICAgbGV0IGljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmljb24gaW1nJyk7XHJcbiAgICBbXS5mb3JFYWNoLmNhbGwoaWNvbnMsIChpY29uKT0+e1xyXG4gICAgICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgKGV2ZW50KT0+e1xyXG5cclxuICAgICAgICAgICAgLy9FdmVudC5lbWl0KCdJQ09OX0RSQUdfU1RBUlQnLCBldmVudC50YXJnZXQuc3JjKTtcclxuICAgICAgICAgICAgZnVybml0dXJlVVJMID0gZXZlbnQudGFyZ2V0LnNyYztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9LCBmYWxzZSlcclxuICAgICAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXZlbnQpPT57XHJcbiAgICAgICAgICAgIC8vRXZlbnQuZW1pdCgnSUNPTl9EUkFHX1NUQVJUJywgZXZlbnQudGFyZ2V0LnNyYyk7XHJcbiAgICAgICAgICAgIGZ1cm5pdHVyZVVSTCA9IGV2ZW50LnRhcmdldC5zcmM7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSwgZmFsc2UpXHJcbiAgICAgICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZHJhZyBlbmQnKTtcclxuICAgICAgICB9LCBmYWxzZSlcclxuICAgIH0pO1xyXG4gICAgLyovbGFiZWwgY29udHJvbFxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZvbnRTaXplJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KT0+e1xyXG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgIGlmKCFpc05hTihwYXJzZUZsb2F0KGZvbnRTaXplKSkgJiYgaXNGaW5pdGUoZm9udFNpemUpKXtcclxuICAgICAgICAgICAgbGFiZWxDb25maWcuZm9udFNpemUgPSBwYXJzZUZsb2F0KGZvbnRTaXplKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb250U3R5bGUnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpPT57XHJcbiAgICAgICAgbGFiZWxDb25maWcuZm9udFN0eWxlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9udFdlaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCk9PntcclxuICAgICAgICBsYWJlbENvbmZpZy5mb250V2VpZ2h0ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICAvKlxyXG4gICAgbGV0IGxhYmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYWJlbCcpO1xyXG4gICAgW10uZm9yRWFjaC5jYWxsKGxhYmVscywgKGxhYmVsKT0+e1xyXG4gICAgICAgIGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChldmVudCk9PntcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGxhYmVsVGFnID0gbGFiZWwuaW5uZXJIVE1MLnRyaW0oKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0sIGZhbHNlKVxyXG4gICAgfSlcclxuICAgICovXHJcbiAgICAvL2VuZCBsYWJlbCBjb250cm9sXHJcblxyXG4gICAgbGV0IGNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJyk7XHJcblxyXG4gICAgY2FudmFzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT57XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pXHJcbiAgICBjYW52YXNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgKGV2ZW50KT0+e1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICBjYW52YXNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZXZlbnQpPT57XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSlcclxuXHJcbiAgICBjYW52YXNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGV2ZW50KT0+e1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdkcmFnbGVhdmUnKTtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSlcclxuICAgIGNhbnZhc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgKGUpPT57XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYobGFiZWxUYWcgIT09IG51bGwpe1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkKG5ldyBmYWJyaWMuSVRleHQobGFiZWxUYWcsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiJ1JvYm90bycsIHNhbnMtc2VyaWZcIixcclxuICAgICAgICAgICAgICAgIGxlZnQ6IGUubGF5ZXJYLFxyXG4gICAgICAgICAgICAgICAgdG9wOiBlLmxheWVyWSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBsYWJlbENvbmZpZy5mb250U2l6ZSxcclxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IGxhYmVsQ29uZmlnLmZvbnRXZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6IGxhYmVsQ29uZmlnLmZvbnRTdHlsZSxcclxuICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoYXNDb250cm9sczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyMyYzNlNTAnLFxyXG4gICAgICAgICAgICAgICAgY29ybmVyQ29sb3I6ICcjMmMzZTUwJyxcclxuICAgICAgICAgICAgICAgIGNvcm5lclNpemU6IDIsXHJcbiAgICAgICAgICAgICAgICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgbGV0IGxhc3RJbmRleCA9IGNhbnZhcy5fb2JqZWN0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zZXRBY3RpdmVPYmplY3QoY2FudmFzLml0ZW0obGFzdEluZGV4LTEpKTtcclxuICAgICAgICAgICAgbGFiZWxUYWcgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihmdXJuaXR1cmVVUkwgIT09IG51bGwpe1xyXG4gICAgICAgICAgICBsZXQgY29ybmVyU2l6ZSA9IDU7XHJcbiAgICAgICAgICAgIGZhYnJpYy5sb2FkU1ZHRnJvbVVSTChmdXJuaXR1cmVVUkwsIGZ1bmN0aW9uKG9iamVjdHMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdmdPYmplY3QgPSBmYWJyaWMudXRpbC5ncm91cFNWR0VsZW1lbnRzKG9iamVjdHMsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgaWYoc3ZnT2JqZWN0LmhlaWdodCA+IHN2Z09iamVjdC53aWR0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0ZSA9IHN2Z09iamVjdC5nZXRXaWR0aCgpL3N2Z09iamVjdC5nZXRIZWlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihyYXRlIDwgMC4yKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnT2JqZWN0LnNldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlLmxheWVyWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZS5sYXllclksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNCb3JkZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbHM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyMyYzNlNTAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyQ29sb3I6ICcjMmMzZTUwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50Q29ybmVyczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJTaXplOiBjb3JuZXJTaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luWDogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5ZOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWDogMTAwL3N2Z09iamVjdC5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IDEwMC9zdmdPYmplY3QuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnT2JqZWN0LnNldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlLmxheWVyWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZS5sYXllclksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNCb3JkZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbHM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyMyYzNlNTAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyQ29sb3I6ICcjMmMzZTUwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcGFyZW50Q29ybmVyczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJTaXplOiBjb3JuZXJTaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luWDogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5ZOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWDogNTAvc3ZnT2JqZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWTogNTAvc3ZnT2JqZWN0LmhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGUgPSBzdmdPYmplY3QuZ2V0SGVpZ2h0KCkvc3ZnT2JqZWN0LmdldFdpZHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmF0ZSA8IDAuMil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Z09iamVjdC5zZXQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZS5sYXllclgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGUubGF5ZXJZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQm9yZGVyczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NvbnRyb2xzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjMmMzZTUwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lckNvbG9yOiAnIzJjM2U1MCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ybmVyU2l6ZTogY29ybmVyU2l6ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpblg6ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luWTogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IDEwMC9zdmdPYmplY3Qud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IDEwMC9zdmdPYmplY3Qud2lkdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdmdPYmplY3Quc2V0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGUubGF5ZXJYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBlLmxheWVyWSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDb250cm9sczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzJjM2U1MCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JuZXJDb2xvcjogJyMyYzNlNTAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRDb3JuZXJzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcm5lclNpemU6IGNvcm5lclNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5YOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpblk6ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiA1MC9zdmdPYmplY3Qud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IDUwL3N2Z09iamVjdC53aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FudmFzLmFkZChzdmdPYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgU1RBVEUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZnVybml0dXJlVVJMID0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7aWNvbkRyYWd9O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9hcHAvaWNvbkRyYWcuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFMQTtBQU9BOztBQUVBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQURBO0FBZEE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUZBO0FBQ0E7QUErQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFjQTtBQUNBO0FBQ0E7QUFqQkE7QUFtQkE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQURBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFoQkE7QUFGQTtBQW1DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBREE7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWhCQTtBQXJDQTtBQXNFQTtBQUNBO0FBQ0E7QUExRUE7QUFGQTtBQUFBO0FBdEJBO0FBbkVBO0FBQ0E7QUEwS0EiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.asyncFloorplan = exports.downloadImage = exports.loadingImage = undefined;\n\nvar _uploadImage = __webpack_require__(16);\n\nvar _superagent = __webpack_require__(2);\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isSVG = true;\n\nvar loadingImage = function loadingImage(canvas) {\n    document.getElementById('localImage').onchange = function handleImage(e) {\n        canvas.clear();\n        var reader = new FileReader();\n        reader.onload = function (event) {\n\n            var imgObj = new Image();\n            imgObj.src = event.target.result;\n\n            imgObj.onload = function () {\n                // start fabricJS stuff\n                var fileType = event.target.result.split(';')[0].substr(11);\n                console.log(fileType);\n                isSVG = fileType === 'svg+xml';\n                var image = new fabric.Image(imgObj);\n                var scaleRate = canvas.width / image.width < canvas.height / image.height ? canvas.width / image.width : canvas.height / image.height;\n                image.set({\n                    top: 0,\n                    left: 0,\n                    scaleX: scaleRate,\n                    scaleY: scaleRate,\n                    selectable: true,\n                    id: 'imported'\n                });\n                canvas.add(image);\n                canvas.centerObject(image);\n                canvas.renderAll();\n            };\n        };\n        reader.readAsDataURL(e.target.files[0]);\n        e.target.value = '';\n    };\n};\nvar addLogo = function addLogo(canvas, Event) {\n    var logoURL = './tools/logo.svg';\n    canvas.deactivateAllWithDispatch();\n    canvas.renderAll();\n    if (isSVG) {\n        fabric.loadSVGFromURL(logoURL, function (objects, options) {\n            var svgObject = fabric.util.groupSVGElements(objects, options);\n            var scaleRate = 0.1 * canvas.width / svgObject.width;\n            svgObject.set({\n                top: canvas.height - svgObject.height * scaleRate - 20,\n                left: canvas.width - svgObject.width * scaleRate - 20,\n                scaleX: scaleRate,\n                scaleY: scaleRate,\n                selectable: false\n            });\n            canvas.add(svgObject);\n            Event.emit('DONE_ADDING_TEXT', canvas.toDataURL(\"png\"));\n        });\n        /*\r\n        let imgObj = new Image();\r\n        imgObj.src = logoURL;\r\n        imgObj.onload = function () {\r\n            // start fabricJS stuff\r\n            let image = new fabric.Image(imgObj);\r\n                if(image.getHeight() !== 0){\r\n                const scaleRate = 0.1 * canvas.width/image.width;\r\n                image.set({\r\n                    top: canvas.height - image.height * scaleRate - 20 ,\r\n                    left: canvas.width - image.width*scaleRate - 20,\r\n                    scaleX: scaleRate,\r\n                    scaleY: scaleRate,\r\n                    selectable: false,\r\n                });\r\n            }else {\r\n                const scaleRate = 50/canvas.height;\r\n                image.set({\r\n                    top: 0 ,\r\n                    left: 0,\r\n                    height: 50,\r\n                    width: 100,\r\n                    scaleX: scaleRate,\r\n                    scaleY: scaleRate,\r\n                    selectable: false\r\n                });\r\n            }\r\n              console.log(image);\r\n              canvas.add(image);\r\n            canvas.renderAll();\r\n            */\n        //initDownload(canvas);\n        //Event.emit('DONE_ADDING_TEXT', canvas.toDataURL(\"png\"));\n    } else {\n            Event.emit('DONE_ADDING_TEXT', canvas.toDataURL(\"png\"));\n        }\n};\nvar initDownload = function initDownload(canvas) {};\nvar downloadImage = function downloadImage(canvas, Event) {\n    //uploadImage(canvas);\n\n    document.getElementById('download').addEventListener('click', function (event) {\n        //addLogo(canvas, Event);\n        /*Event.on('DONE_ADDING_TEXT', (URL)=>{\r\n            let a = document.createElement('a');\r\n            let linkText = document.createTextNode(\"Download\");\r\n            a.appendChild(linkText);\r\n            a.title = \"Download\";\r\n            a.href=URL;\r\n            a.download = 'floorplan-'+new Date().toISOString()+'.png';\r\n            a.id='downloadLink';\r\n            a.style.display = 'none';\r\n            document.body.appendChild(a);\r\n            document.getElementById('downloadLink').click();\r\n            removeElement(document.getElementById('downloadLink'));\r\n        })\r\n        */\n        removeElement(document.getElementById('downloadLink'));\n        var URL = canvas.toDataURL(\"png\");\n        var image = document.createElement('img');\n        //let linkText = document.createTextNode(\"Download\");\n        //a.appendChild(linkText);\n        //a.title = \"Download\";\n        image.src = URL;\n        //a.download = 'floorplan-'+new Date().toISOString()+'.png';\n        image.id = 'downloadLink';\n        image.style.display = 'none';\n        document.body.appendChild(image);\n        document.getElementById('downloadLink').click();\n    });\n};\nvar asyncFloorplan = function asyncFloorplan(Event, canvas) {\n    var id = getUrlVars()['id'];\n    var baseURL = 'https://geo.cubi.casa/v1/search/id?ids=';\n    var URL = baseURL + id;\n    if (id !== undefined) {\n        _superagent2.default.get(URL).end(function (error, response) {\n            if (error === null) {\n                var res = JSON.parse(response.text);\n                var svgURL = res.features[0].properties.models[0].svg;\n                console.log(svgURL);\n                //request.get(svgURL)\n                Event.emit('RECEIVED_URL', svgURL);\n            }\n        });\n    }\n    Event.on('RECEIVED_URL', function (svgURL) {\n        var imgObj = new Image();\n        imgObj.src = svgURL;\n        imgObj.setAttribute('crossOrigin', 'Anonymous');\n        imgObj.onload = function () {\n            // start fabricJS stuff\n            var image = new fabric.Image(imgObj);\n            var scaleRate = canvas.width / image.width < canvas.height / image.height ? canvas.width / image.width : canvas.height / image.height;\n            image.set({\n                top: 0,\n                left: 0,\n                scaleX: scaleRate,\n                scaleY: scaleRate,\n                selectable: true,\n                id: 'imported'\n            });\n            canvas.add(image);\n            canvas.centerObject(image);\n            canvas.renderAll();\n        };\n    });\n};\nvar getUrlVars = function getUrlVars() {\n    var vars = [],\n        hash;\n    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\n    for (var i = 0; i < hashes.length; i++) {\n        hash = hashes[i].split('=');\n        vars.push(hash[0]);\n        vars[hash[0]] = hash[1];\n    }\n    return vars;\n};\nvar removeElement = function removeElement(element) {\n    element && element.parentNode && element.parentNode.removeChild(element);\n};\nexports.loadingImage = loadingImage;\nexports.downloadImage = downloadImage;\nexports.asyncFloorplan = asyncFloorplan;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL2ltcG9ydEltYWdlLmpzPzE3OTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHt1cGxvYWRJbWFnZX0gZnJvbSAnLi91cGxvYWRJbWFnZSc7XHJcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3N1cGVyYWdlbnQnO1xyXG5sZXQgaXNTVkcgPSB0cnVlO1xyXG5cclxuY29uc3QgbG9hZGluZ0ltYWdlID0gKGNhbnZhcyk9PntcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhbEltYWdlJykub25jaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVJbWFnZShlKSB7XHJcbiAgICAgICAgY2FudmFzLmNsZWFyKCk7XHJcbiAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG5cclxuICAgICAgICAgICAgbGV0IGltZ09iaiA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWdPYmouc3JjID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIGltZ09iai5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBmYWJyaWNKUyBzdHVmZlxyXG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZVR5cGUgPSBldmVudC50YXJnZXQucmVzdWx0LnNwbGl0KCc7JylbMF0uc3Vic3RyKDExKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGVUeXBlKTtcclxuICAgICAgICAgICAgICAgIGlzU1ZHID0gZmlsZVR5cGUgPT09ICdzdmcreG1sJztcclxuICAgICAgICAgICAgICAgIGxldCBpbWFnZSA9IG5ldyBmYWJyaWMuSW1hZ2UoaW1nT2JqKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlUmF0ZSA9IGNhbnZhcy53aWR0aC9pbWFnZS53aWR0aCA8IGNhbnZhcy5oZWlnaHQvaW1hZ2UuaGVpZ2h0ID8gY2FudmFzLndpZHRoL2ltYWdlLndpZHRoOiBjYW52YXMuaGVpZ2h0L2ltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGltYWdlLnNldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiBzY2FsZVJhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVZOiBzY2FsZVJhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBpZDogJ2ltcG9ydGVkJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMuYWRkKGltYWdlKTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5jZW50ZXJPYmplY3QoaW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbmRlckFsbCgpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChlLnRhcmdldC5maWxlc1swXSk7XHJcbiAgICAgICAgZS50YXJnZXQudmFsdWUgPSAnJztcclxuICAgIH1cclxufVxyXG5jb25zdCBhZGRMb2dvID0gKGNhbnZhcywgRXZlbnQpPT57XHJcbiAgICBjb25zdCBsb2dvVVJMID0gJy4vdG9vbHMvbG9nby5zdmcnO1xyXG4gICAgY2FudmFzLmRlYWN0aXZhdGVBbGxXaXRoRGlzcGF0Y2goKTtcclxuICAgIGNhbnZhcy5yZW5kZXJBbGwoKTtcclxuICAgIGlmKGlzU1ZHKXtcclxuICAgICAgICBmYWJyaWMubG9hZFNWR0Zyb21VUkwobG9nb1VSTCwgZnVuY3Rpb24ob2JqZWN0cywgb3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgc3ZnT2JqZWN0ID0gZmFicmljLnV0aWwuZ3JvdXBTVkdFbGVtZW50cyhvYmplY3RzLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGVSYXRlID0gMC4xICogY2FudmFzLndpZHRoL3N2Z09iamVjdC53aWR0aDtcclxuICAgICAgICAgICAgc3ZnT2JqZWN0LnNldCh7XHJcbiAgICAgICAgICAgICAgICB0b3A6IGNhbnZhcy5oZWlnaHQgLSBzdmdPYmplY3QuaGVpZ2h0ICogc2NhbGVSYXRlIC0gMjAgLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogY2FudmFzLndpZHRoIC0gc3ZnT2JqZWN0LndpZHRoKnNjYWxlUmF0ZSAtIDIwLFxyXG4gICAgICAgICAgICAgICAgc2NhbGVYOiBzY2FsZVJhdGUsXHJcbiAgICAgICAgICAgICAgICBzY2FsZVk6IHNjYWxlUmF0ZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZChzdmdPYmplY3QpO1xyXG4gICAgICAgICAgICBFdmVudC5lbWl0KCdET05FX0FERElOR19URVhUJywgY2FudmFzLnRvRGF0YVVSTChcInBuZ1wiKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvKlxyXG4gICAgICAgIGxldCBpbWdPYmogPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBpbWdPYmouc3JjID0gbG9nb1VSTDtcclxuICAgICAgICBpbWdPYmoub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBzdGFydCBmYWJyaWNKUyBzdHVmZlxyXG4gICAgICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgZmFicmljLkltYWdlKGltZ09iaik7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYoaW1hZ2UuZ2V0SGVpZ2h0KCkgIT09IDApe1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVSYXRlID0gMC4xICogY2FudmFzLndpZHRoL2ltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc2V0KHtcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IGNhbnZhcy5oZWlnaHQgLSBpbWFnZS5oZWlnaHQgKiBzY2FsZVJhdGUgLSAyMCAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogY2FudmFzLndpZHRoIC0gaW1hZ2Uud2lkdGgqc2NhbGVSYXRlIC0gMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiBzY2FsZVJhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVZOiBzY2FsZVJhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVSYXRlID0gNTAvY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGltYWdlLnNldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwICxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IHNjYWxlUmF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IHNjYWxlUmF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGltYWdlKTtcclxuXHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGQoaW1hZ2UpO1xyXG4gICAgICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIC8vaW5pdERvd25sb2FkKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIC8vRXZlbnQuZW1pdCgnRE9ORV9BRERJTkdfVEVYVCcsIGNhbnZhcy50b0RhdGFVUkwoXCJwbmdcIikpO1xyXG5cclxuICAgIH1lbHNlIHtcclxuICAgICAgICBFdmVudC5lbWl0KCdET05FX0FERElOR19URVhUJywgY2FudmFzLnRvRGF0YVVSTChcInBuZ1wiKSk7XHJcbiAgICB9XHJcbn1cclxuY29uc3QgaW5pdERvd25sb2FkID0gKGNhbnZhcyk9PntcclxuXHJcbn1cclxuY29uc3QgZG93bmxvYWRJbWFnZSA9IChjYW52YXMsIEV2ZW50KT0+e1xyXG4gICAgLy91cGxvYWRJbWFnZShjYW52YXMpO1xyXG4gICAgXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIC8vYWRkTG9nbyhjYW52YXMsIEV2ZW50KTtcclxuICAgICAgICAvKkV2ZW50Lm9uKCdET05FX0FERElOR19URVhUJywgKFVSTCk9PntcclxuICAgICAgICAgICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgIGxldCBsaW5rVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiRG93bmxvYWRcIik7XHJcbiAgICAgICAgICAgIGEuYXBwZW5kQ2hpbGQobGlua1RleHQpO1xyXG4gICAgICAgICAgICBhLnRpdGxlID0gXCJEb3dubG9hZFwiO1xyXG4gICAgICAgICAgICBhLmhyZWY9VVJMO1xyXG4gICAgICAgICAgICBhLmRvd25sb2FkID0gJ2Zsb29ycGxhbi0nK25ldyBEYXRlKCkudG9JU09TdHJpbmcoKSsnLnBuZyc7XHJcbiAgICAgICAgICAgIGEuaWQ9J2Rvd25sb2FkTGluayc7XHJcbiAgICAgICAgICAgIGEuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkTGluaycpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkTGluaycpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICovXHJcbiAgICAgICAgcmVtb3ZlRWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRMaW5rJykpO1xyXG4gICAgICAgIGNvbnN0IFVSTCA9IGNhbnZhcy50b0RhdGFVUkwoXCJwbmdcIik7XHJcbiAgICAgICAgbGV0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgLy9sZXQgbGlua1RleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIkRvd25sb2FkXCIpO1xyXG4gICAgICAgIC8vYS5hcHBlbmRDaGlsZChsaW5rVGV4dCk7XHJcbiAgICAgICAgLy9hLnRpdGxlID0gXCJEb3dubG9hZFwiO1xyXG4gICAgICAgIGltYWdlLnNyYz1VUkw7XHJcbiAgICAgICAgLy9hLmRvd25sb2FkID0gJ2Zsb29ycGxhbi0nK25ldyBEYXRlKCkudG9JU09TdHJpbmcoKSsnLnBuZyc7XHJcbiAgICAgICAgaW1hZ2UuaWQ9J2Rvd25sb2FkTGluayc7XHJcbiAgICAgICAgaW1hZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGltYWdlKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRMaW5rJykuY2xpY2soKTtcclxuICAgIH0pO1xyXG59XHJcbmNvbnN0IGFzeW5jRmxvb3JwbGFuID0gKEV2ZW50LCBjYW52YXMpPT57XHJcbiAgICBjb25zdCBpZCA9IGdldFVybFZhcnMoKVsnaWQnXTtcclxuICAgIGNvbnN0IGJhc2VVUkwgPSAnaHR0cHM6Ly9nZW8uY3ViaS5jYXNhL3YxL3NlYXJjaC9pZD9pZHM9JztcclxuICAgIGNvbnN0IFVSTCA9IGJhc2VVUkwgKyBpZDtcclxuICAgIGlmKGlkICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgIHJlcXVlc3QuZ2V0KFVSTCkuZW5kKChlcnJvciwgcmVzcG9uc2UpPT57XHJcbiAgICAgICAgICAgIGlmKGVycm9yID09PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGxldCByZXMgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnRleHQpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHN2Z1VSTCA9IHJlcy5mZWF0dXJlc1swXS5wcm9wZXJ0aWVzLm1vZGVsc1swXS5zdmc7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdmdVUkwpO1xyXG4gICAgICAgICAgICAgICAgLy9yZXF1ZXN0LmdldChzdmdVUkwpXHJcbiAgICAgICAgICAgICAgICBFdmVudC5lbWl0KCdSRUNFSVZFRF9VUkwnLCBzdmdVUkwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBFdmVudC5vbignUkVDRUlWRURfVVJMJywgKHN2Z1VSTCk9PntcclxuICAgICAgICBsZXQgaW1nT2JqID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgaW1nT2JqLnNyYyA9IHN2Z1VSTDtcclxuICAgICAgICBpbWdPYmouc2V0QXR0cmlidXRlKCdjcm9zc09yaWdpbicsICdBbm9ueW1vdXMnKTtcclxuICAgICAgICBpbWdPYmoub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBzdGFydCBmYWJyaWNKUyBzdHVmZlxyXG4gICAgICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgZmFicmljLkltYWdlKGltZ09iaik7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlUmF0ZSA9IGNhbnZhcy53aWR0aC9pbWFnZS53aWR0aCA8IGNhbnZhcy5oZWlnaHQvaW1hZ2UuaGVpZ2h0ID8gY2FudmFzLndpZHRoL2ltYWdlLndpZHRoOiBjYW52YXMuaGVpZ2h0L2ltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgaW1hZ2Uuc2V0KHtcclxuICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICBzY2FsZVg6IHNjYWxlUmF0ZSxcclxuICAgICAgICAgICAgICAgIHNjYWxlWTogc2NhbGVSYXRlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlkOiAnaW1wb3J0ZWQnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkKGltYWdlKTtcclxuICAgICAgICAgICAgY2FudmFzLmNlbnRlck9iamVjdChpbWFnZSk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5yZW5kZXJBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcbmNvbnN0IGdldFVybFZhcnMgPSAoKT0+e1xyXG4gICAgdmFyIHZhcnMgPSBbXSwgaGFzaDtcclxuICAgIHZhciBoYXNoZXMgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCc/JykgKyAxKS5zcGxpdCgnJicpO1xyXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IGhhc2hlcy5sZW5ndGg7IGkrKylcclxuICAgIHtcclxuICAgICAgICBoYXNoID0gaGFzaGVzW2ldLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgdmFycy5wdXNoKGhhc2hbMF0pO1xyXG4gICAgICAgIHZhcnNbaGFzaFswXV0gPSBoYXNoWzFdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhcnM7XHJcbn1cclxuY29uc3QgIHJlbW92ZUVsZW1lbnQgPSAoZWxlbWVudCk9PiB7XHJcbiAgICBlbGVtZW50ICYmIGVsZW1lbnQucGFyZW50Tm9kZSAmJiBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XHJcbn1cclxuZXhwb3J0IHtsb2FkaW5nSW1hZ2UsIGRvd25sb2FkSW1hZ2UsIGFzeW5jRmxvb3JwbGFufTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvYXBwL2ltcG9ydEltYWdlLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFqQkE7QUFMQTtBQTBCQTtBQUNBO0FBOUJBO0FBREE7QUFrQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQVhBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBREE7QUFBQTtBQUFBO0FBSkE7QUE0REE7QUFHQTs7O0FBR0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7QUFDQTtBQUNBOzs7O0FBbEJBOztBQUFBO0FBeUJBO0FBQ0E7QUFDQTtBQTNCQTtBQUhBO0FBaUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUhBO0FBQUE7QUFEQTtBQURBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQWRBO0FBSkE7QUFmQTtBQXFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQVRBO0FBV0E7QUFDQTtBQURBO0FBR0E7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (Event) {\n    var tools = document.querySelectorAll('.tool');\n    [].forEach.call(tools, function (tool) {\n        var className = 'active';\n        tool.addEventListener('click', function (event) {\n            var role = tool.getAttribute('data-role').toUpperCase();\n            Event.emit('TOOL_CHANGE', role);\n            Array.prototype.filter.call(tool.parentNode.children, function (child) {\n                if (child !== tool) {\n                    if (child.classList) child.classList.remove(className);else child.className = child.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n                }\n            });\n\n            if (tool.classList) {\n                tool.classList.toggle(className);\n            } else {\n                var classes = tool.className.split(' ');\n                var existingIndex = classes.indexOf(className);\n\n                if (existingIndex >= 0) classes.splice(existingIndex, 1);else classes.push(className);\n\n                tool.className = classes.join(' ');\n            }\n        });\n    });\n    document.querySelector('.gallery .close').addEventListener('click', function (event) {\n        document.querySelector('.gallery').style.transform = 'translateX(200px)';\n    });\n\n    var templates = document.querySelectorAll('#templates .tool');\n    [].forEach.call(templates, function (template) {\n        template.addEventListener('click', function (event) {\n            var role = template.getAttribute('data-hint').toUpperCase();\n            Event.emit('CHANGE_TEMPLATE', role);\n        });\n    });\n\n    document.querySelector('.tool').addEventListener('click', function (event) {\n        var templateContainer = document.querySelector('.templates');\n        var className = 'show';\n\n        if (templateContainer.classList) {\n            templateContainer.classList.toggle(className);\n        } else {\n            var classes = templateContainer.className.split(' ');\n            var existingIndex = classes.indexOf(className);\n\n            if (existingIndex >= 0) classes.splice(existingIndex, 1);else classes.push(className);\n\n            templateContainer.className = classes.join(' ');\n        }\n    });\n};\n\nvar _settings = __webpack_require__(1);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FwcC9pbnRlcmFjdGl2ZS5qcz8zYWUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGljb25MaXN0LCBVUkwgfSBmcm9tICcuL3NldHRpbmdzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChFdmVudCkge1xyXG4gICAgbGV0IHRvb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvb2wnKTtcclxuICAgIFtdLmZvckVhY2guY2FsbCh0b29scywgZnVuY3Rpb24odG9vbCkge1xyXG4gICAgICAgIGxldCBjbGFzc05hbWUgPSAnYWN0aXZlJztcclxuICAgICAgICB0b29sLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgIChldmVudCk9PiB7XHJcbiAgICAgICAgICAgIGxldCByb2xlID0gdG9vbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcm9sZScpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIEV2ZW50LmVtaXQoJ1RPT0xfQ0hBTkdFJywgcm9sZSk7XHJcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCh0b29sLnBhcmVudE5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKXtcclxuICAgICAgICAgICAgICAgIGlmKCBjaGlsZCAhPT0gdG9vbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLmNsYXNzTGlzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NOYW1lID0gY2hpbGQuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodG9vbC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHRvb2wuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNsYXNzZXMgPSB0b29sLmNsYXNzTmFtZS5zcGxpdCgnICcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGV4aXN0aW5nSW5kZXggPSBjbGFzc2VzLmluZGV4T2YoY2xhc3NOYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXMuc3BsaWNlKGV4aXN0aW5nSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChjbGFzc05hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRvb2wuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5IC5jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnknKS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgyMDBweCknO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHRlbXBsYXRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN0ZW1wbGF0ZXMgLnRvb2wnKTtcclxuICAgIFtdLmZvckVhY2guY2FsbCh0ZW1wbGF0ZXMsICh0ZW1wbGF0ZSk9PntcclxuICAgICAgICB0ZW1wbGF0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCk9PntcclxuICAgICAgICAgICAgbGV0IHJvbGUgPSB0ZW1wbGF0ZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGludCcpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIEV2ZW50LmVtaXQoJ0NIQU5HRV9URU1QTEFURScsIHJvbGUpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9vbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHRlbXBsYXRlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRlbXBsYXRlcycpO1xyXG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9ICdzaG93JztcclxuXHJcbiAgICAgICAgaWYgKHRlbXBsYXRlQ29udGFpbmVyLmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZUNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGNsYXNzZXMgPSB0ZW1wbGF0ZUNvbnRhaW5lci5jbGFzc05hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICAgICAgbGV0IGV4aXN0aW5nSW5kZXggPSBjbGFzc2VzLmluZGV4T2YoY2xhc3NOYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0luZGV4ID49IDApXHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnNwbGljZShleGlzdGluZ0luZGV4LCAxKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGNsYXNzTmFtZSk7XHJcblxyXG4gICAgICAgICAgICB0ZW1wbGF0ZUNvbnRhaW5lci5jbGFzc05hbWUgPSBjbGFzc2VzLmpvaW4oJyAnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9hcHAvaW50ZXJhY3RpdmUuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUNBO0FBUUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBWEE7QUFaQTtBQUZBO0FBOEJBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBWEE7QUFKQTtBQTVDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (labelConfig, Event) {\n    document.querySelector('#fontSize').addEventListener('change', function (event) {\n        var fontSize = event.target.value;\n        if (!isNaN(parseFloat(fontSize)) && isFinite(fontSize)) {\n            labelConfig.fontSize = parseFloat(fontSize);\n            Event.emit('LABEL_CONFIG_CHANGED');\n        }\n    });\n    document.querySelector('#fontStyle').addEventListener('change', function (event) {\n        labelConfig.fontStyle = event.target.value;\n        Event.emit('LABEL_CONFIG_CHANGED');\n    });\n    document.querySelector('#fontWeight').addEventListener('change', function (event) {\n        labelConfig.fontWeight = event.target.value;\n        Event.emit('LABEL_CONFIG_CHANGED');\n    });\n    document.querySelector('.canvas-container').addEventListener('keyup', function (event) {});\n    /*\r\n     let labels = document.querySelectorAll('.label');\r\n     [].forEach.call(labels, (label)=>{\r\n     label.addEventListener('dragstart', (event)=>{\r\n     labelTag = label.innerHTML.trim();\r\n     return false;\r\n     }, false)\r\n     })\r\n     */\n};undefined\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FwcC9sYWJlbC5qcz8yOTdmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChsYWJlbENvbmZpZywgRXZlbnQpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb250U2l6ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCk9PntcclxuICAgICAgICBjb25zdCBmb250U2l6ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICBpZighaXNOYU4ocGFyc2VGbG9hdChmb250U2l6ZSkpICYmIGlzRmluaXRlKGZvbnRTaXplKSl7XHJcbiAgICAgICAgICAgIGxhYmVsQ29uZmlnLmZvbnRTaXplID0gcGFyc2VGbG9hdChmb250U2l6ZSk7XHJcbiAgICAgICAgICAgIEV2ZW50LmVtaXQoJ0xBQkVMX0NPTkZJR19DSEFOR0VEJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9udFN0eWxlJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KT0+e1xyXG4gICAgICAgIGxhYmVsQ29uZmlnLmZvbnRTdHlsZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICBFdmVudC5lbWl0KCdMQUJFTF9DT05GSUdfQ0hBTkdFRCcpO1xyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9udFdlaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChldmVudCk9PntcclxuICAgICAgICBsYWJlbENvbmZpZy5mb250V2VpZ2h0ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgIEV2ZW50LmVtaXQoJ0xBQkVMX0NPTkZJR19DSEFOR0VEJyk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW52YXMtY29udGFpbmVyJykuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLChldmVudCk9PntcclxuXHJcbiAgICB9KTtcclxuICAgIC8qXHJcbiAgICAgbGV0IGxhYmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYWJlbCcpO1xyXG4gICAgIFtdLmZvckVhY2guY2FsbChsYWJlbHMsIChsYWJlbCk9PntcclxuICAgICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZXZlbnQpPT57XHJcbiAgICAgbGFiZWxUYWcgPSBsYWJlbC5pbm5lckhUTUwudHJpbSgpO1xyXG4gICAgIHJldHVybiBmYWxzZTtcclxuICAgICB9LCBmYWxzZSlcclxuICAgICB9KVxyXG4gICAgICovXHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9hcHAvbGFiZWwuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBRkE7QUFPQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7Ozs7Ozs7Ozs7QUFoQkFBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nvar responsive = function responsive() {\n    var width = window.innerWidth > 0 ? window.innerWidth : screen.width;\n    var height = window.innerHeight > 0 ? window.innerHeight : screen.height;\n\n    var canvas = document.querySelector("#c");\n    canvas.width = width * 0.8;\n    canvas.height = height * .85;\n};\nexports.responsive = responsive;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FwcC9yZXNwb25zaXZlLmpzP2VlMTciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVzcG9uc2l2ZSA9ICgpPT57XHJcbiAgICBjb25zdCB3aWR0aCA9ICh3aW5kb3cuaW5uZXJXaWR0aCA+IDApID8gd2luZG93LmlubmVyV2lkdGggOiBzY3JlZW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSAod2luZG93LmlubmVySGVpZ2h0ID4gMCkgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBzY3JlZW4uaGVpZ2h0O1xyXG5cclxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NcIik7XHJcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aCAqIDAuOCA7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogLjg1IDtcclxufVxyXG5leHBvcnQge3Jlc3BvbnNpdmV9O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9hcHAvcmVzcG9uc2l2ZS5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUEiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar drawRoom = function drawRoom(canvas, points) {\n    var polygon = new fabric.Polygon(points, {\n\n        fill: 'transparent',\n        stroke: 'black',\n        strokeWidth: 3,\n        selectable: false\n    });\n    canvas.add(polygon);\n    canvas.centerObject(polygon);\n    canvas.renderAll();\n};\nvar drawLine = function drawLine(canvas, lineArray, black) {\n    if (black || black === undefined) {\n        var line = new fabric.Line(lineArray, {\n            strokeWidth: 3,\n            fill: 'black',\n            stroke: 'black',\n            hasBorders: false,\n            hasControls: false,\n            selectable: false\n        });\n        canvas.add(line);\n    } else {\n        var line = new fabric.Line(lineArray, {\n            strokeWidth: 3,\n            fill: 'white',\n            stroke: 'white',\n            hasBorders: false,\n            hasControls: false,\n            selectable: false\n        });\n        canvas.add(line);\n    }\n};\nvar drawImage = function drawImage(canvas, imageURL) {\n    fabric.loadSVGFromURL(imageURL, function (objects, options) {\n        var image = fabric.util.groupSVGElements(objects, options);\n        var scaleRate = image.width > image.height ? canvas.width / image.width : canvas.height / image.height;\n\n        image.set({\n            left: 0,\n            top: 0,\n            hasBorders: false,\n            hasControls: false,\n            scaleX: scaleRate,\n            scaleY: scaleRate,\n            selectable: false\n        });\n        canvas.add(image);\n        canvas.centerObject(image);\n        canvas.renderAll();\n    });\n};\nvar studio = function studio(canvas) {\n    var points = [{ x: 100, y: 100 }, { x: 100, y: 400 }, { x: 300, y: 400 }, { x: 300, y: 500 }, { x: 500, y: 500 }, { x: 500, y: 100 }];\n    drawRoom(canvas, points);\n};\nvar oneBR = function oneBR(canvas) {\n\n    var points = [{ x: 0, y: 0 }, { x: 400, y: 0 }, { x: 400, y: 200 }, { x: 0, y: 200 }, { x: 0, y: 0 }, { x: 600, y: 0 }, { x: 600, y: 400 }, { x: 0, y: 400 }, { x: 0, y: 300 }, { x: 300, y: 300 }, { x: 300, y: 400 }, { x: 0, y: 400 }];\n    drawRoom(canvas, points);\n\n    //drawImage(canvas, './template/oneBr.svg');\n};\n\nvar twoBR = function twoBR(canvas) {\n    var points = [{ x: 0, y: 0 }, { x: 200, y: 0 }, { x: 200, y: 200 }, { x: 200, y: 0 }, { x: 400, y: 0 }, { x: 400, y: 200 }, { x: 0, y: 200 }, { x: 0, y: 0 }, { x: 600, y: 0 }, { x: 600, y: 400 }, { x: 0, y: 400 }, { x: 0, y: 300 }, { x: 300, y: 300 }, { x: 300, y: 400 }, { x: 0, y: 400 }];\n    drawRoom(canvas, points);\n};\n\nvar threeBR = function threeBR(canvas) {\n    var points = [{ x: 0, y: 0 }, { x: 400, y: 0 }, { x: 400, y: 200 }, { x: 0, y: 200 }, { x: 0, y: 0 }, { x: 600, y: 0 }, { x: 600, y: 400 }, { x: 400, y: 400 }, { x: 400, y: 0 }, { x: 600, y: 0 }, { x: 600, y: 500 }, { x: 400, y: 500 }, { x: 400, y: 600 }, { x: 0, y: 600 }, { x: 0, y: 450 }, { x: 400, y: 450 }, { x: 400, y: 500 }, { x: 400, y: 450 }, { x: 0, y: 450 }];\n    drawRoom(canvas, points);\n};\nvar fourBR = function fourBR(canvas) {};\n\nexports.studio = studio;\nexports.oneBR = oneBR;\nexports.twoBR = twoBR;\nexports.threeBR = threeBR;\nexports.fourBR = fourBR;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FwcC90ZW1wbGF0ZS5yb29tLmpzPzI0MDgiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZHJhd1Jvb20gPSBmdW5jdGlvbiAoY2FudmFzLCBwb2ludHMpIHtcclxuICAgIGNvbnN0IHBvbHlnb24gPSBuZXcgZmFicmljLlBvbHlnb24ocG9pbnRzLCB7XHJcblxyXG4gICAgICAgIGZpbGwgOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcclxuICAgICAgICBzdHJva2VXaWR0aDogMyxcclxuICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgICBjYW52YXMuYWRkKHBvbHlnb24pO1xyXG4gICAgY2FudmFzLmNlbnRlck9iamVjdChwb2x5Z29uKTtcclxuICAgIGNhbnZhcy5yZW5kZXJBbGwoKTtcclxufTtcclxuY29uc3QgZHJhd0xpbmUgPSBmdW5jdGlvbiAoY2FudmFzLCBsaW5lQXJyYXksIGJsYWNrKSB7XHJcbiAgICBpZihibGFjayB8fCBibGFjayA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICBjb25zdCBsaW5lID0gbmV3IGZhYnJpYy5MaW5lKGxpbmVBcnJheSwge1xyXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogMyxcclxuICAgICAgICAgICAgZmlsbDogJ2JsYWNrJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnYmxhY2snLFxyXG4gICAgICAgICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcclxuICAgICAgICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLFxyXG4gICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNhbnZhcy5hZGQobGluZSk7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICAgY29uc3QgbGluZSA9IG5ldyBmYWJyaWMuTGluZShsaW5lQXJyYXksIHtcclxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDMsXHJcbiAgICAgICAgICAgIGZpbGw6ICd3aGl0ZScsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJ3doaXRlJyxcclxuICAgICAgICAgICAgaGFzQm9yZGVyczogZmFsc2UsXHJcbiAgICAgICAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBjYW52YXMuYWRkKGxpbmUpO1xyXG4gICAgfVxyXG5cclxufVxyXG5jb25zdCBkcmF3SW1hZ2UgPSAoY2FudmFzLCBpbWFnZVVSTCk9PntcclxuICAgIGZhYnJpYy5sb2FkU1ZHRnJvbVVSTChpbWFnZVVSTCwgZnVuY3Rpb24ob2JqZWN0cywgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBpbWFnZSA9IGZhYnJpYy51dGlsLmdyb3VwU1ZHRWxlbWVudHMob2JqZWN0cywgb3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVSYXRlID0gaW1hZ2Uud2lkdGggPiBpbWFnZS5oZWlnaHQgPyBjYW52YXMud2lkdGgvaW1hZ2Uud2lkdGg6IGNhbnZhcy5oZWlnaHQvaW1hZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICBpbWFnZS5zZXQoe1xyXG4gICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgIGhhc0JvcmRlcnM6IGZhbHNlLFxyXG4gICAgICAgICAgICBoYXNDb250cm9sczogZmFsc2UsXHJcbiAgICAgICAgICAgIHNjYWxlWDogc2NhbGVSYXRlLFxyXG4gICAgICAgICAgICBzY2FsZVk6IHNjYWxlUmF0ZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2VcclxuICAgICAgICB9KTtcclxuICAgICAgICBjYW52YXMuYWRkKGltYWdlKTtcclxuICAgICAgICBjYW52YXMuY2VudGVyT2JqZWN0KGltYWdlKTtcclxuICAgICAgICBjYW52YXMucmVuZGVyQWxsKCk7XHJcbiAgICB9KTtcclxufVxyXG5jb25zdCBzdHVkaW8gPSAoY2FudmFzKT0+e1xyXG4gICAgY29uc3QgcG9pbnRzID0gW1xyXG4gICAgICAgIHsgeDogMTAwLCB5OiAxMDB9LFxyXG4gICAgICAgIHsgeDogMTAwLCB5OiA0MDB9LFxyXG4gICAgICAgIHsgeDogMzAwLCB5OiA0MDB9LFxyXG4gICAgICAgIHsgeDogMzAwLCB5OiA1MDB9LFxyXG4gICAgICAgIHsgeDogNTAwLCB5OiA1MDB9LFxyXG4gICAgICAgIHsgeDogNTAwLCB5OiAxMDB9XHJcbiAgICBdO1xyXG4gICAgZHJhd1Jvb20oY2FudmFzLCBwb2ludHMpXHJcbn07XHJcbmNvbnN0IG9uZUJSID0gKGNhbnZhcyk9PntcclxuXHJcbiAgICBjb25zdCBwb2ludHMgPSBbXHJcbiAgICAgICAgeyB4OiAwLCB5OiAwfSxcclxuICAgICAgICB7IHg6IDQwMCwgeTogMH0sXHJcbiAgICAgICAgeyB4OiA0MDAsIHk6IDIwMH0sXHJcbiAgICAgICAgeyB4OiAwLCB5OiAyMDB9LFxyXG4gICAgICAgIHsgeDogMCwgeTogMH0sXHJcbiAgICAgICAgeyB4OiA2MDAsIHk6IDB9LFxyXG4gICAgICAgIHsgeDogNjAwLCB5OiA0MDB9LFxyXG4gICAgICAgIHsgeDogMCwgeTogNDAwfSxcclxuICAgICAgICB7IHg6IDAsIHk6IDMwMH0sXHJcbiAgICAgICAgeyB4OiAzMDAsIHk6IDMwMH0sXHJcbiAgICAgICAgeyB4OiAzMDAsIHk6IDQwMH0sXHJcbiAgICAgICAgeyB4OiAwLCB5OiA0MDB9XHJcbiAgICBdO1xyXG4gICAgZHJhd1Jvb20oY2FudmFzLCBwb2ludHMpO1xyXG5cclxuICAgIC8vZHJhd0ltYWdlKGNhbnZhcywgJy4vdGVtcGxhdGUvb25lQnIuc3ZnJyk7XHJcbn1cclxuXHJcbmNvbnN0IHR3b0JSID0gKGNhbnZhcyk9PntcclxuICAgIGNvbnN0IHBvaW50cyA9IFtcclxuICAgICAgICB7IHg6IDAsIHk6IDB9LFxyXG4gICAgICAgIHsgeDogMjAwLCB5OjB9LFxyXG4gICAgICAgIHsgeDogMjAwLCB5OiAyMDB9LFxyXG4gICAgICAgIHsgeDogMjAwLCB5OiAwfSxcclxuICAgICAgICB7IHg6IDQwMCwgeTogMH0sXHJcbiAgICAgICAgeyB4OiA0MDAsIHk6IDIwMH0sXHJcbiAgICAgICAgeyB4OiAwLCB5OiAyMDB9LFxyXG4gICAgICAgIHsgeDogMCwgeTogMH0sXHJcbiAgICAgICAgeyB4OiA2MDAsIHk6IDB9LFxyXG4gICAgICAgIHsgeDogNjAwLCB5OiA0MDB9LFxyXG4gICAgICAgIHsgeDogMCwgeTogNDAwfSxcclxuICAgICAgICB7IHg6IDAsIHk6IDMwMH0sXHJcbiAgICAgICAgeyB4OiAzMDAsIHk6IDMwMH0sXHJcbiAgICAgICAgeyB4OiAzMDAsIHk6IDQwMH0sXHJcbiAgICAgICAgeyB4OiAwLCB5OiA0MDB9XHJcbiAgICBdO1xyXG4gICAgZHJhd1Jvb20oY2FudmFzLCBwb2ludHMpO1xyXG59XHJcblxyXG5jb25zdCB0aHJlZUJSID0gKGNhbnZhcyk9PntcclxuICAgIGNvbnN0IHBvaW50cyA9IFtcclxuICAgICAgICB7IHg6IDAsIHk6IDB9LFxyXG4gICAgICAgIHsgeDogNDAwLCB5OiAwfSxcclxuICAgICAgICB7IHg6IDQwMCwgeTogMjAwfSxcclxuICAgICAgICB7IHg6IDAsIHk6IDIwMH0sXHJcbiAgICAgICAgeyB4OiAwLCB5OiAwfSxcclxuXHJcbiAgICAgICAgeyB4OiA2MDAsIHk6IDB9LFxyXG4gICAgICAgIHsgeDogNjAwLCB5OiA0MDB9LFxyXG4gICAgICAgIHsgeDogNDAwLCB5OiA0MDB9LFxyXG4gICAgICAgIHsgeDogNDAwLCB5OiAwfSxcclxuICAgICAgICB7IHg6IDYwMCwgeTogMH0sXHJcblxyXG4gICAgICAgIHsgeDogNjAwLCB5OiA1MDB9LFxyXG4gICAgICAgIHsgeDogNDAwLCB5OiA1MDB9LFxyXG4gICAgICAgIHsgeDogNDAwLCB5OiA2MDB9LFxyXG4gICAgICAgIHsgeDogMCwgeTogNjAwfSxcclxuICAgICAgICB7IHg6IDAsIHk6IDQ1MH0sXHJcbiAgICAgICAgeyB4OiA0MDAsIHk6IDQ1MH0sXHJcbiAgICAgICAgeyB4OiA0MDAsIHk6IDUwMH0sXHJcbiAgICAgICAgeyB4OiA0MDAsIHk6IDQ1MH0sXHJcbiAgICAgICAgeyB4OiAwLCB5OiA0NTB9XHJcbiAgICBdO1xyXG4gICAgZHJhd1Jvb20oY2FudmFzLCBwb2ludHMpO1xyXG59XHJcbmNvbnN0IGZvdXJCUiA9IChjYW52YXMpPT57XHJcblxyXG59XHJcblxyXG5leHBvcnQge3N0dWRpbywgb25lQlIsIHR3b0JSLCB0aHJlZUJSLCBmb3VyQlJ9O1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvYXBwL3RlbXBsYXRlLnJvb20uanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBbkJBO0FBREE7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQWZBO0FBREE7QUFtQkE7QUFDQTtBQVFBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFjQTtBQUNBOztBQWpCQTtBQUNBO0FBb0JBO0FBQ0E7QUFpQkE7QUFsQkE7QUFDQTtBQW9CQTtBQUNBO0FBdUJBO0FBeEJBO0FBMEJBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar drawLine = function drawLine(canvas, o) {\n    var pointer = canvas.getPointer(o.e);\n    var pointerTouch = o;\n    var points = [];\n    if (!isNaN(pointer.x)) points = [pointer.x, pointer.y, pointer.x, pointer.y];else points = [pointerTouch.x, pointerTouch.y, pointerTouch.x, pointerTouch.y];\n    return new fabric.Line(points, {\n        strokeWidth: 3,\n        fill: 'black',\n        stroke: 'black',\n        originX: 'center',\n        originY: 'center',\n        hasBorders: false,\n        hasControls: false,\n        selectable: false\n    });\n};\n\nvar drawRoom = function drawRoom(canvas, o) {\n\n    var startY = o.y,\n        startX = o.x;\n    if (o.e !== undefined) {\n        startY = o.e.offsetY;\n        startX = o.e.offsetX;\n    }\n\n    return new fabric.Rect({\n        top: startY,\n        left: startX,\n        width: 0,\n        height: 0,\n        fill: 'transparent',\n        stroke: 'black',\n        strokeWidth: 3,\n        hasBorders: false,\n        hasControls: false,\n        selectable: false\n    });\n};\n\nexports.drawLine = drawLine;\nexports.drawRoom = drawRoom;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FwcC90b29scy5qcz85Njg1Il0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCBkcmF3TGluZSA9IGZ1bmN0aW9uIChjYW52YXMsIG8pIHtcclxuICAgIGNvbnN0IHBvaW50ZXIgPSBjYW52YXMuZ2V0UG9pbnRlcihvLmUpO1xyXG4gICAgY29uc3QgcG9pbnRlclRvdWNoID0gbztcclxuICAgIGxldCBwb2ludHMgPSBbXTtcclxuICAgIGlmKCFpc05hTihwb2ludGVyLngpKVxyXG4gICAgICAgIHBvaW50cyA9IFsgcG9pbnRlci54LCBwb2ludGVyLnksIHBvaW50ZXIueCwgcG9pbnRlci55IF07XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcG9pbnRzID0gW3BvaW50ZXJUb3VjaC54LCBwb2ludGVyVG91Y2gueSwgcG9pbnRlclRvdWNoLngsIHBvaW50ZXJUb3VjaC55XTtcclxuICAgIHJldHVybiBuZXcgZmFicmljLkxpbmUocG9pbnRzLCB7XHJcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDMsXHJcbiAgICAgICAgZmlsbDogJ2JsYWNrJyxcclxuICAgICAgICBzdHJva2U6ICdibGFjaycsXHJcbiAgICAgICAgb3JpZ2luWDogJ2NlbnRlcicsXHJcbiAgICAgICAgb3JpZ2luWTogJ2NlbnRlcicsXHJcbiAgICAgICAgaGFzQm9yZGVyczogZmFsc2UsXHJcbiAgICAgICAgaGFzQ29udHJvbHM6IGZhbHNlLFxyXG4gICAgICAgIHNlbGVjdGFibGU6IGZhbHNlXHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgZHJhd1Jvb20gPSBmdW5jdGlvbiAoY2FudmFzLCBvKSB7XHJcblxyXG4gICAgdmFyIHN0YXJ0WSA9IG8ueSxcclxuICAgICAgICBzdGFydFggPSBvLng7XHJcbiAgICBpZihvLmUgIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgc3RhcnRZID0gby5lLm9mZnNldFlcclxuICAgICAgICBzdGFydFggPSBvLmUub2Zmc2V0WFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgZmFicmljLlJlY3Qoe1xyXG4gICAgICAgIHRvcCA6IHN0YXJ0WSxcclxuICAgICAgICBsZWZ0IDogc3RhcnRYLFxyXG4gICAgICAgIHdpZHRoIDogMCxcclxuICAgICAgICBoZWlnaHQgOiAwLFxyXG4gICAgICAgIGZpbGwgOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcclxuICAgICAgICBzdHJva2VXaWR0aDogMyxcclxuICAgICAgICBoYXNCb3JkZXJzOiBmYWxzZSxcclxuICAgICAgICBoYXNDb250cm9sczogZmFsc2UsXHJcbiAgICAgICAgc2VsZWN0YWJsZTpmYWxzZVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBkcmF3TGluZSwgZHJhd1Jvb219O1xyXG5cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2FwcC90b29scy5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBUkE7QUFDQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFUQTtBQUNBO0FBdUJBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar removeTuts = function removeTuts() {\n    var tuts = document.querySelectorAll('#mainMenu .tool');\n    [].forEach.call(tuts, function (tut) {\n        var className = 'show';\n        if (tut.classList) tut.classList.remove(className);else tut.className = tut.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    });\n};\nvar showTuts = function showTuts(indexTut) {\n    var tutsArray = [[0, 1, 2], [3], [4]];\n    var tuts = document.querySelectorAll('#mainMenu .tool');\n    removeTuts();\n    var timeout = 500;\n    [].forEach.call(tuts, function (tut) {\n        var tutID = parseInt(tut.getAttribute('data-tut'));\n        if (tutsArray[indexTut].indexOf(tutID) > -1) {\n            setTimeout(function () {\n                var className = 'show';\n                if (tut.classList) tut.classList.add(className);else tut.className += ' ' + className;\n            }, timeout);\n            timeout += 500;\n        }\n    });\n};\nvar resetProgress = function resetProgress() {\n    var progressBars = document.querySelectorAll('.progress-bar .progress');\n    [].forEach.call(progressBars, function (progressBar) {\n        removeClass(progressBar, 'done');\n    });\n};\nvar tut = function tut(tutIndex) {\n    showTuts(tutIndex);\n    resetProgress();\n    var progressBars = document.querySelectorAll('.progress-bar .progress');\n    [].forEach.call(progressBars, function (progressBar) {\n        var progressBarIndex = parseInt(progressBar.getAttribute('data-progress'));\n        if (progressBarIndex <= tutIndex) {\n            var className = 'done';\n            if (progressBar.classList) progressBar.classList.add(className);else progressBar.className += ' ' + className;\n        }\n    });\n};\nvar findAncestor = function findAncestor(el, cls) {\n    while ((el = el.parentElement) && !el.classList.contains(cls)) {}\n    return el;\n};\nvar interactiveTut = function interactiveTut() {\n    var tutNodes = document.querySelectorAll('.tool__tuts');\n    [].forEach.call(tutNodes, function (tutNode) {\n        tutNode.addEventListener('click', function (event) {\n            var tool = findAncestor(node, 'tool');\n            removeClass(tool, 'show');\n        });\n    });\n    document.querySelector('.progress-bar__control').addEventListener('click', function () {\n        removeTuts();\n    });\n};\nvar interactiveProgressBar = function interactiveProgressBar() {\n    var progressBars = document.querySelectorAll('.progress');\n    [].forEach.call(progressBars, function (progress) {\n        progress.addEventListener('click', function (event) {\n            var tutIndex = parseInt(progress.getAttribute('data-progress'));\n            tut(tutIndex);\n        });\n    });\n};\nvar initTut = function initTut() {\n    tut(0);\n    interactiveTut();\n    interactiveProgressBar();\n};\nvar removeClass = function removeClass(element, className) {\n    if (element.classList) element.classList.remove(className);else element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n};\nexports.removeTuts = removeTuts;\nexports.initTut = initTut;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FwcC90dXRzLmpzP2NiYjciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVtb3ZlVHV0cyA9ICgpPT57XHJcbiAgICBsZXQgdHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNtYWluTWVudSAudG9vbCcpO1xyXG4gICAgW10uZm9yRWFjaC5jYWxsKHR1dHMsICh0dXQpPT57XHJcbiAgICAgICAgbGV0IGNsYXNzTmFtZSA9ICdzaG93JztcclxuICAgICAgICBpZiAodHV0LmNsYXNzTGlzdClcclxuICAgICAgICAgICAgdHV0LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHR1dC5jbGFzc05hbWUgPSB0dXQuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcclxuICAgIH0pO1xyXG59XHJcbmNvbnN0IHNob3dUdXRzID0gKGluZGV4VHV0KT0+e1xyXG4gICAgY29uc3QgdHV0c0FycmF5ID0gW1swLDEsMl0sWzNdLFs0XV07XHJcbiAgICBsZXQgdHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNtYWluTWVudSAudG9vbCcpO1xyXG4gICAgcmVtb3ZlVHV0cygpO1xyXG4gICAgbGV0IHRpbWVvdXQgPSA1MDA7XHJcbiAgICBbXS5mb3JFYWNoLmNhbGwodHV0cywgKHR1dCk9PntcclxuICAgICAgICBjb25zdCB0dXRJRCA9IHBhcnNlSW50KHR1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHV0JykpO1xyXG4gICAgICAgIGlmKHR1dHNBcnJheVtpbmRleFR1dF0uaW5kZXhPZih0dXRJRCk+LTEpe1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ3Nob3cnO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR1dC5jbGFzc0xpc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgdHV0LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB0dXQuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcclxuICAgICAgICAgICAgfSwgdGltZW91dClcclxuICAgICAgICAgICAgdGltZW91dCArPSA1MDA7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59XHJcbmNvbnN0IHJlc2V0UHJvZ3Jlc3MgPSAoKT0+e1xyXG4gICAgbGV0IHByb2dyZXNzQmFycz0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2dyZXNzLWJhciAucHJvZ3Jlc3MnKTtcclxuICAgIFtdLmZvckVhY2guY2FsbChwcm9ncmVzc0JhcnMsIChwcm9ncmVzc0Jhcik9PntcclxuICAgICAgICByZW1vdmVDbGFzcyhwcm9ncmVzc0JhciwgJ2RvbmUnKTtcclxuICAgIH0pXHJcbn1cclxuY29uc3QgdHV0ID0gKHR1dEluZGV4KT0+e1xyXG4gICAgc2hvd1R1dHModHV0SW5kZXgpO1xyXG4gICAgcmVzZXRQcm9ncmVzcygpO1xyXG4gICAgbGV0IHByb2dyZXNzQmFycz0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2dyZXNzLWJhciAucHJvZ3Jlc3MnKTtcclxuICAgIFtdLmZvckVhY2guY2FsbChwcm9ncmVzc0JhcnMsIChwcm9ncmVzc0Jhcik9PntcclxuICAgICAgICBjb25zdCBwcm9ncmVzc0JhckluZGV4ID0gcGFyc2VJbnQocHJvZ3Jlc3NCYXIuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2dyZXNzJykpO1xyXG4gICAgICAgIGlmKHByb2dyZXNzQmFySW5kZXggPD0gdHV0SW5kZXgpe1xyXG4gICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ2RvbmUnO1xyXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3NCYXIuY2xhc3NMaXN0KVxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuY29uc3QgZmluZEFuY2VzdG9yID0gKGVsLCBjbHMpPT4ge1xyXG4gICAgd2hpbGUgKChlbCA9IGVsLnBhcmVudEVsZW1lbnQpICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xzKSk7XHJcbiAgICByZXR1cm4gZWw7XHJcbn1cclxuY29uc3QgaW50ZXJhY3RpdmVUdXQ9KCk9PntcclxuICAgIGxldCB0dXROb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b29sX190dXRzJyk7XHJcbiAgICBbXS5mb3JFYWNoLmNhbGwodHV0Tm9kZXMsICh0dXROb2RlKT0+e1xyXG4gICAgICAgdHV0Tm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBsZXQgdG9vbCA9IGZpbmRBbmNlc3Rvcihub2RlLCAndG9vbCcpO1xyXG4gICAgICAgICAgICByZW1vdmVDbGFzcyh0b29sLCAnc2hvdycpO1xyXG4gICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcy1iYXJfX2NvbnRyb2wnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICAgICAgcmVtb3ZlVHV0cygpO1xyXG4gICAgfSk7XHJcbn1cclxuY29uc3QgaW50ZXJhY3RpdmVQcm9ncmVzc0JhciA9ICgpPT57XHJcbiAgICBsZXQgcHJvZ3Jlc3NCYXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2dyZXNzJyk7XHJcbiAgICBbXS5mb3JFYWNoLmNhbGwocHJvZ3Jlc3NCYXJzLCAocHJvZ3Jlc3MpPT57XHJcbiAgICAgICAgcHJvZ3Jlc3MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgdHV0SW5kZXggPSBwYXJzZUludChwcm9ncmVzcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvZ3Jlc3MnKSk7XHJcbiAgICAgICAgICAgIHR1dCh0dXRJbmRleCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5jb25zdCBpbml0VHV0ID0gKCk9PntcclxuICAgIHR1dCgwKTtcclxuICAgIGludGVyYWN0aXZlVHV0KCk7XHJcbiAgICBpbnRlcmFjdGl2ZVByb2dyZXNzQmFyKCk7XHJcbn1cclxuY29uc3QgcmVtb3ZlQ2xhc3MgPSAoZWxlbWVudCwgY2xhc3NOYW1lKT0+e1xyXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KVxyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xyXG59XHJcbmV4cG9ydCB7cmVtb3ZlVHV0cywgaW5pdFR1dH07XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2FwcC90dXRzLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBT0E7QUFSQTtBQUZBO0FBTEE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFGQTtBQUpBO0FBZUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBTUE7QUFDQTtBQURBO0FBUkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBRkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQURBO0FBTUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.uploadImage = undefined;\n\nvar _superagent = __webpack_require__(2);\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar uploadImage = function uploadImage(canvas) {\n    _superagent2.default.post('https://www.cubi.casa/airbnb/order/server/').send(canvas.toDataURL(\"png\")).end(function (err, response) {\n        console.log(err);\n        if (!err) {\n            window.location('https://www.cubi.casa/airbnb/order/');\n        }\n    });\n};\nexports.uploadImage = uploadImage;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FwcC91cGxvYWRJbWFnZS5qcz8zYjE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdXBlcmFnZW50IGZyb20gJ3N1cGVyYWdlbnQnO1xyXG5jb25zdCB1cGxvYWRJbWFnZSA9IChjYW52YXMpPT57XHJcbiAgICBzdXBlcmFnZW50LnBvc3QoJ2h0dHBzOi8vd3d3LmN1YmkuY2FzYS9haXJibmIvb3JkZXIvc2VydmVyLycpXHJcbiAgICAgICAgLnNlbmQoY2FudmFzLnRvRGF0YVVSTChcInBuZ1wiKSlcclxuICAgICAgICAuZW5kKGZ1bmN0aW9uKGVyciwgcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgaWYoIWVycil7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24oJ2h0dHBzOi8vd3d3LmN1YmkuY2FzYS9haXJibmIvb3JkZXIvJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxufVxyXG5leHBvcnQge3VwbG9hZEltYWdlfTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2FwcC91cGxvYWRJbWFnZS5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBSEE7QUFVQSIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nvar undo = function undo(canvas, undoList) {\n    if (canvas._objects.length > 0) {\n        undoList.push(canvas._objects.pop());\n        canvas.renderAll();\n    }\n};\nvar redo = function redo(canvas, undoList, REDO) {\n    console.log(undoList);\n    if (undoList.length > 0) {\n        REDO = true;\n        canvas.add(undoList.pop());\n    }\n};\n\nvar initUndo = function initUndo(canvas, undoList, REDO) {};\nvar initIntro = function initIntro() {\n    /*\r\n    var tour = {\r\n        id: "hello-hopscotch",\r\n        steps: [\r\n            {\r\n                title: "Drawing Utilities",\r\n                content: "Click to use different tools: <b>Pencil</b>, <b>Line</b>, <b>Room</b> for sketching your floorplan",\r\n                target: document.getElementById(\'drawingTool\'),\r\n                placement: "right"\r\n            },\r\n            {\r\n                title: "Furniture and Amenities",\r\n                content: "You can <b>Drag and drop</b> furniture and amenities to the floor plan",\r\n                target: document.getElementById(\'furnitureTool\'),\r\n                placement: "right"\r\n            },\r\n            {\r\n                title: "Room Label",\r\n                content: "You can add label to the floor plan",\r\n                target: document.getElementById(\'labelTool\'),\r\n                placement: "right"\r\n            },\r\n            {\r\n                title: "Upload Your Floorplan",\r\n                content: "You can also add upload your local floorplan images.",\r\n                target: document.getElementById(\'importTool\'),\r\n                placement: "right"\r\n            },\r\n            {\r\n                title: "Download and Save",\r\n                content: "You can save your work to your devices by click download button",\r\n                target: document.getElementById(\'download\'),\r\n                placement: "right"\r\n            }\r\n        ],\r\n        showPrevButton: true,\r\n    };\r\n    */\n    document.getElementById(\'dialog-source\').addEventListener(\'click\', function () {\n        var tourSource = {\n            id: "tourSource",\n            steps: [{\n                title: "Upload Your Floorplan",\n                content: "You can also add upload your local floorplan images.",\n                target: document.getElementById(\'importTool\'),\n                placement: "right"\n            }, {\n                title: "Eraser",\n                content: "Click to use eraser",\n                target: document.getElementById(\'eraserTool\'),\n                placement: "right"\n            }, {\n                title: "Architects",\n                content: "You can <b>Drag and drop</b> windows, doors, etc..",\n                target: document.getElementById(\'furnitureTool\'),\n                placement: "right"\n            }, {\n                title: "Room Label",\n                content: "You can add label to the floor plan",\n                target: document.getElementById(\'labelTool\'),\n                placement: "right"\n            }, {\n                title: "Drawing Utilities",\n                content: "Click to use different tools: <b>Pencil</b>, <b>Line</b>, <b>Room</b> for sketching your floorplan",\n                target: document.getElementById(\'drawingTool\'),\n                placement: "right"\n            }, {\n                title: "Last step",\n                content: "Process to the information and order detail page",\n                target: document.getElementById(\'download\'),\n                placement: "right"\n            }],\n            showPrevButton: true\n        };\n        document.querySelector(\'.initial-dialog\').style.display = "none";\n        hopscotch.startTour(tourSource);\n    });\n    document.getElementById(\'dialog-raw\').addEventListener(\'click\', function () {\n        document.querySelector(\'.initial-dialog\').style.display = "none";\n        var tourRaw = {\n            id: "tourRaw",\n            steps: [{\n                title: "Templates",\n                content: "You can use the templates to create your floorplan",\n                target: document.getElementById(\'templatesTool\'),\n                placement: "right"\n            }, {\n                title: "Drawing Utilities",\n                content: "Click to use different tools: <b>Pencil</b>, <b>Line</b>, <b>Room</b> for sketching your floorplan",\n                target: document.getElementById(\'drawingTool\'),\n                placement: "right"\n            }, {\n                title: "Architects",\n                content: "You can <b>Drag and drop</b> windows, doors, etc..",\n                target: document.getElementById(\'furnitureTool\'),\n                placement: "right"\n            }, {\n                title: "Room Label",\n                content: "You can also put label to the floor plan",\n                target: document.getElementById(\'labelTool\'),\n                placement: "right"\n            }, {\n                title: "Eraser",\n                content: "Also use eraser",\n                target: document.getElementById(\'eraserTool\'),\n                placement: "right"\n            }, {\n                title: "Last step",\n                content: "Process to the information and order detail page",\n                target: document.getElementById(\'download\'),\n                placement: "right"\n            }],\n            showPrevButton: true\n        };\n        hopscotch.startTour(tourRaw);\n    });\n\n    // Start the tour!\n    //hopscotch.startTour(tour);\n};\nvar moveVector = function moveVector(canvas, vector) {\n    var allObject = canvas.getObjects();\n\n    allObject.forEach(function (object) {\n        if (object.id !== \'imported\') {\n            object.set({\n                top: object.top + vector[0],\n                left: object.left + vector[1]\n            });\n            object.setCoords();\n        }\n    });\n};\nvar checkSelected = function checkSelected(canvas) {\n    var isSelected = false;\n    var allObject = canvas.getObjects();\n\n    for (var i = 0; i < allObject.length; i++) {\n        if (allObject[i].selected === true) {\n            isSelected = true;\n            break;\n        }\n    }\n    return isSelected;\n};\nexports.undo = undo;\nexports.redo = redo;\nexports.initUndo = initUndo;\nexports.initIntro = initIntro;\nexports.moveVector = moveVector;\nexports.checkSelected = checkSelected;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FwcC91dGlscy5qcz80MTdlIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVuZG8gPSAoY2FudmFzLCB1bmRvTGlzdCk9PntcclxuICAgIGlmKGNhbnZhcy5fb2JqZWN0cy5sZW5ndGggPjApe1xyXG4gICAgICAgIHVuZG9MaXN0LnB1c2goY2FudmFzLl9vYmplY3RzLnBvcCgpKTtcclxuICAgICAgICBjYW52YXMucmVuZGVyQWxsKClcclxuICAgIH1cclxufVxyXG5jb25zdCByZWRvID0gKGNhbnZhcywgdW5kb0xpc3QsIFJFRE8pPT57XHJcbiAgICBjb25zb2xlLmxvZyh1bmRvTGlzdCk7XHJcbiAgICBpZih1bmRvTGlzdC5sZW5ndGg+MCl7XHJcbiAgICAgICAgUkVETyA9IHRydWU7XHJcbiAgICAgICAgY2FudmFzLmFkZCh1bmRvTGlzdC5wb3AoKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGluaXRVbmRvID0gKGNhbnZhcywgdW5kb0xpc3QsIFJFRE8pPT57XHJcblxyXG59XHJcbmNvbnN0IGluaXRJbnRybyA9ICgpPT57XHJcbiAgICAvKlxyXG4gICAgdmFyIHRvdXIgPSB7XHJcbiAgICAgICAgaWQ6IFwiaGVsbG8taG9wc2NvdGNoXCIsXHJcbiAgICAgICAgc3RlcHM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRHJhd2luZyBVdGlsaXRpZXNcIixcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiQ2xpY2sgdG8gdXNlIGRpZmZlcmVudCB0b29sczogPGI+UGVuY2lsPC9iPiwgPGI+TGluZTwvYj4sIDxiPlJvb208L2I+IGZvciBza2V0Y2hpbmcgeW91ciBmbG9vcnBsYW5cIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXdpbmdUb29sJyksXHJcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFwicmlnaHRcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJGdXJuaXR1cmUgYW5kIEFtZW5pdGllc1wiLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogXCJZb3UgY2FuIDxiPkRyYWcgYW5kIGRyb3A8L2I+IGZ1cm5pdHVyZSBhbmQgYW1lbml0aWVzIHRvIHRoZSBmbG9vciBwbGFuXCIsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmdXJuaXR1cmVUb29sJyksXHJcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFwicmlnaHRcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJSb29tIExhYmVsXCIsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBcIllvdSBjYW4gYWRkIGxhYmVsIHRvIHRoZSBmbG9vciBwbGFuXCIsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYWJlbFRvb2wnKSxcclxuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogXCJyaWdodFwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIlVwbG9hZCBZb3VyIEZsb29ycGxhblwiLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogXCJZb3UgY2FuIGFsc28gYWRkIHVwbG9hZCB5b3VyIGxvY2FsIGZsb29ycGxhbiBpbWFnZXMuXCIsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnRUb29sJyksXHJcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFwicmlnaHRcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJEb3dubG9hZCBhbmQgU2F2ZVwiLFxyXG4gICAgICAgICAgICAgICAgY29udGVudDogXCJZb3UgY2FuIHNhdmUgeW91ciB3b3JrIHRvIHlvdXIgZGV2aWNlcyBieSBjbGljayBkb3dubG9hZCBidXR0b25cIixcclxuICAgICAgICAgICAgICAgIHRhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkJyksXHJcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFwicmlnaHRcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICBzaG93UHJldkJ1dHRvbjogdHJ1ZSxcclxuICAgIH07XHJcbiAgICAqL1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpYWxvZy1zb3VyY2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICAgICAgdmFyIHRvdXJTb3VyY2UgPSB7XHJcbiAgICAgICAgICAgIGlkOiBcInRvdXJTb3VyY2VcIixcclxuICAgICAgICAgICAgc3RlcHM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJVcGxvYWQgWW91ciBGbG9vcnBsYW5cIixcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIllvdSBjYW4gYWxzbyBhZGQgdXBsb2FkIHlvdXIgbG9jYWwgZmxvb3JwbGFuIGltYWdlcy5cIixcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnRUb29sJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBcInJpZ2h0XCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJhc2VyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJDbGljayB0byB1c2UgZXJhc2VyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJhc2VyVG9vbCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogXCJyaWdodFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkFyY2hpdGVjdHNcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIllvdSBjYW4gPGI+RHJhZyBhbmQgZHJvcDwvYj4gd2luZG93cywgZG9vcnMsIGV0Yy4uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnVybml0dXJlVG9vbCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogXCJyaWdodFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlJvb20gTGFiZWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIllvdSBjYW4gYWRkIGxhYmVsIHRvIHRoZSBmbG9vciBwbGFuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFiZWxUb29sJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBcInJpZ2h0XCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRHJhd2luZyBVdGlsaXRpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIkNsaWNrIHRvIHVzZSBkaWZmZXJlbnQgdG9vbHM6IDxiPlBlbmNpbDwvYj4sIDxiPkxpbmU8L2I+LCA8Yj5Sb29tPC9iPiBmb3Igc2tldGNoaW5nIHlvdXIgZmxvb3JwbGFuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJhd2luZ1Rvb2wnKSxcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFwicmlnaHRcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJMYXN0IHN0ZXBcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIlByb2Nlc3MgdG8gdGhlIGluZm9ybWF0aW9uIGFuZCBvcmRlciBkZXRhaWwgcGFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBcInJpZ2h0XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgc2hvd1ByZXZCdXR0b246IHRydWUsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbml0aWFsLWRpYWxvZycpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICBob3BzY290Y2guc3RhcnRUb3VyKHRvdXJTb3VyY2UpO1xyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhbG9nLXJhdycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5pdGlhbC1kaWFsb2cnKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgdmFyIHRvdXJSYXcgPSB7XHJcbiAgICAgICAgICAgIGlkOiBcInRvdXJSYXdcIixcclxuICAgICAgICAgICAgc3RlcHM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJUZW1wbGF0ZXNcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBcIllvdSBjYW4gdXNlIHRoZSB0ZW1wbGF0ZXMgdG8gY3JlYXRlIHlvdXIgZmxvb3JwbGFuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVtcGxhdGVzVG9vbCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogXCJyaWdodFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkRyYXdpbmcgVXRpbGl0aWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCJDbGljayB0byB1c2UgZGlmZmVyZW50IHRvb2xzOiA8Yj5QZW5jaWw8L2I+LCA8Yj5MaW5lPC9iPiwgPGI+Um9vbTwvYj4gZm9yIHNrZXRjaGluZyB5b3VyIGZsb29ycGxhblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RyYXdpbmdUb29sJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBcInJpZ2h0XCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiQXJjaGl0ZWN0c1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiWW91IGNhbiA8Yj5EcmFnIGFuZCBkcm9wPC9iPiB3aW5kb3dzLCBkb29ycywgZXRjLi5cIixcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmdXJuaXR1cmVUb29sJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBcInJpZ2h0XCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiUm9vbSBMYWJlbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiWW91IGNhbiBhbHNvIHB1dCBsYWJlbCB0byB0aGUgZmxvb3IgcGxhblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhYmVsVG9vbCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogXCJyaWdodFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVyYXNlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiQWxzbyB1c2UgZXJhc2VyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJhc2VyVG9vbCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogXCJyaWdodFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkxhc3Qgc3RlcFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiUHJvY2VzcyB0byB0aGUgaW5mb3JtYXRpb24gYW5kIG9yZGVyIGRldGFpbCBwYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWQnKSxcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IFwicmlnaHRcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBzaG93UHJldkJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICB9XHJcbiAgICAgICAgaG9wc2NvdGNoLnN0YXJ0VG91cih0b3VyUmF3KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBTdGFydCB0aGUgdG91ciFcclxuICAgIC8vaG9wc2NvdGNoLnN0YXJ0VG91cih0b3VyKTtcclxufVxyXG5jb25zdCBtb3ZlVmVjdG9yID0gKGNhbnZhcywgdmVjdG9yKT0+e1xyXG4gICAgbGV0IGFsbE9iamVjdCA9IGNhbnZhcy5nZXRPYmplY3RzKCk7XHJcblxyXG4gICAgYWxsT2JqZWN0LmZvckVhY2goKG9iamVjdCk9PntcclxuICAgICAgICBpZihvYmplY3QuaWQgIT09ICdpbXBvcnRlZCcpe1xyXG4gICAgICAgICAgICBvYmplY3Quc2V0KHtcclxuICAgICAgICAgICAgICAgIHRvcDogb2JqZWN0LnRvcCArIHZlY3RvclswXSxcclxuICAgICAgICAgICAgICAgIGxlZnQ6IG9iamVjdC5sZWZ0ICsgdmVjdG9yWzFdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvYmplY3Quc2V0Q29vcmRzKClcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcbmNvbnN0IGNoZWNrU2VsZWN0ZWQgPSAoY2FudmFzKT0+e1xyXG4gICAgbGV0IGlzU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIGxldCBhbGxPYmplY3QgPSBjYW52YXMuZ2V0T2JqZWN0cygpO1xyXG5cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhbGxPYmplY3QubGVuZ3RoIDsgaSsrKXtcclxuICAgICAgICBpZihhbGxPYmplY3RbaV0uc2VsZWN0ZWQgPT09IHRydWUpe1xyXG4gICAgICAgICAgICBpc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzU2VsZWN0ZWQ7XHJcbn1cclxuZXhwb3J0IHt1bmRvLCByZWRvLCBpbml0VW5kbywgaW5pdEludHJvLCBtb3ZlVmVjdG9yLCBjaGVja1NlbGVjdGVkfTtcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2FwcC91dGlscy5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFGQTtBQUNBO0FBT0E7QUFHQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQXZCQTtBQTBCQTtBQUNBO0FBQ0E7QUFDQTtBQTdCQTtBQWdDQTtBQUNBO0FBQ0E7QUFDQTtBQW5DQTtBQXNDQTtBQXhDQTtBQTBDQTtBQUNBO0FBNUNBO0FBOENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBakJBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBdkJBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBN0JBO0FBZ0NBO0FBQ0E7QUFDQTtBQUNBO0FBbkNBO0FBc0NBO0FBeENBO0FBMENBO0FBNUNBO0FBQ0E7OztBQXRGQTtBQXVJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUxBO0FBREE7QUFIQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBTUE7QUFWQTtBQVlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval("\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzP2VhMmYiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIEV4cG9zZSBgRW1pdHRlcmAuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59O1xuXG4vKipcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub24gPVxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxuICAgIC5wdXNoKGZuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcbiAgZnVuY3Rpb24gb24oKSB7XG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgb24uZm4gPSBmbjtcbiAgdGhpcy5vbihldmVudCwgb24pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICAvLyBhbGxcbiAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcblxuICAvLyByZW1vdmUgYWxsIGhhbmRsZXJzXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXG4gIHZhciBjYjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBjYiA9IGNhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge01peGVkfSAuLi5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxuICAgICwgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcblxuICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29tcG9uZW50LWVtaXR0ZXIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxOFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("\nvar Eev = (function () {\n  var id = 0;\n\n  // A relatively generic LinkedList impl\n  function LinkedList(linkConstructor) {\n    this.head = new RunnableLink();\n    this.tail = new RunnableLink(this.head);\n    this.head.next = this.tail;\n    this.linkConstructor = linkConstructor;\n    this.reg = {};\n  }\n\n  LinkedList.prototype = {\n    insert: function (data) {\n      var link = new RunnableLink(this.tail.prev, this.tail, data);\n      link.next.prev = link.prev.next = link;\n      return link;\n    },\n\n    remove: function (link) {\n      link.prev.next = link.next;\n      link.next.prev = link.prev;\n    }\n  };\n\n  // A link in the linked list which allows\n  // for efficient execution of the callbacks\n  function RunnableLink(prev, next, fn) {\n    this.prev = prev;\n    this.next = next;\n    this.fn = fn || noop;\n  }\n\n  RunnableLink.prototype.run = function (data) {\n    this.fn(data);\n    this.next && this.next.run(data);\n  };\n\n  function noop () { }\n\n  function Eev () {\n    this.events = {};\n  }\n\n  Eev.prototype = {\n    on: function (names, fn) {\n      var me = this;\n      names.split(/\\W+/g).forEach(function (name) {\n        var list = me.events[name] || (me.events[name] = new LinkedList());\n        var eev = fn._eev || (fn._eev = (++id));\n\n        list.reg[eev] || (list.reg[eev] = list.insert(fn));\n      });\n    },\n\n    off: function (names, fn) {\n      var me = this;\n      names.split(/\\W+/g).forEach(function (name) {\n        var list = me.events[name];\n        var link = list.reg[fn._eev];\n\n        list.reg[fn._eev] = undefined;\n\n        list && link && list.remove(link);\n      });\n    },\n\n    emit: function (name, data) {\n      var evt = this.events[name];\n      evt && evt.head.run(data);\n    }\n  };\n\n  return Eev;\n}());\n\n// AMD/CommonJS support\n(function (root, factory) {\n  var define = root.define;\n\n  if (define && define.amd) {\n    define([], factory);\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = factory();\n  }\n}(this, function () { return Eev; }));\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Vldi9lZXYuanM/ZTQ2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBFZXYgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgaWQgPSAwO1xuXG4gIC8vIEEgcmVsYXRpdmVseSBnZW5lcmljIExpbmtlZExpc3QgaW1wbFxuICBmdW5jdGlvbiBMaW5rZWRMaXN0KGxpbmtDb25zdHJ1Y3Rvcikge1xuICAgIHRoaXMuaGVhZCA9IG5ldyBSdW5uYWJsZUxpbmsoKTtcbiAgICB0aGlzLnRhaWwgPSBuZXcgUnVubmFibGVMaW5rKHRoaXMuaGVhZCk7XG4gICAgdGhpcy5oZWFkLm5leHQgPSB0aGlzLnRhaWw7XG4gICAgdGhpcy5saW5rQ29uc3RydWN0b3IgPSBsaW5rQ29uc3RydWN0b3I7XG4gICAgdGhpcy5yZWcgPSB7fTtcbiAgfVxuXG4gIExpbmtlZExpc3QucHJvdG90eXBlID0ge1xuICAgIGluc2VydDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIHZhciBsaW5rID0gbmV3IFJ1bm5hYmxlTGluayh0aGlzLnRhaWwucHJldiwgdGhpcy50YWlsLCBkYXRhKTtcbiAgICAgIGxpbmsubmV4dC5wcmV2ID0gbGluay5wcmV2Lm5leHQgPSBsaW5rO1xuICAgICAgcmV0dXJuIGxpbms7XG4gICAgfSxcblxuICAgIHJlbW92ZTogZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgIGxpbmsucHJldi5uZXh0ID0gbGluay5uZXh0O1xuICAgICAgbGluay5uZXh0LnByZXYgPSBsaW5rLnByZXY7XG4gICAgfVxuICB9O1xuXG4gIC8vIEEgbGluayBpbiB0aGUgbGlua2VkIGxpc3Qgd2hpY2ggYWxsb3dzXG4gIC8vIGZvciBlZmZpY2llbnQgZXhlY3V0aW9uIG9mIHRoZSBjYWxsYmFja3NcbiAgZnVuY3Rpb24gUnVubmFibGVMaW5rKHByZXYsIG5leHQsIGZuKSB7XG4gICAgdGhpcy5wcmV2ID0gcHJldjtcbiAgICB0aGlzLm5leHQgPSBuZXh0O1xuICAgIHRoaXMuZm4gPSBmbiB8fCBub29wO1xuICB9XG5cbiAgUnVubmFibGVMaW5rLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHRoaXMuZm4oZGF0YSk7XG4gICAgdGhpcy5uZXh0ICYmIHRoaXMubmV4dC5ydW4oZGF0YSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbm9vcCAoKSB7IH1cblxuICBmdW5jdGlvbiBFZXYgKCkge1xuICAgIHRoaXMuZXZlbnRzID0ge307XG4gIH1cblxuICBFZXYucHJvdG90eXBlID0ge1xuICAgIG9uOiBmdW5jdGlvbiAobmFtZXMsIGZuKSB7XG4gICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgbmFtZXMuc3BsaXQoL1xcVysvZykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgbGlzdCA9IG1lLmV2ZW50c1tuYW1lXSB8fCAobWUuZXZlbnRzW25hbWVdID0gbmV3IExpbmtlZExpc3QoKSk7XG4gICAgICAgIHZhciBlZXYgPSBmbi5fZWV2IHx8IChmbi5fZWV2ID0gKCsraWQpKTtcblxuICAgICAgICBsaXN0LnJlZ1tlZXZdIHx8IChsaXN0LnJlZ1tlZXZdID0gbGlzdC5pbnNlcnQoZm4pKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBvZmY6IGZ1bmN0aW9uIChuYW1lcywgZm4pIHtcbiAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICBuYW1lcy5zcGxpdCgvXFxXKy9nKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBsaXN0ID0gbWUuZXZlbnRzW25hbWVdO1xuICAgICAgICB2YXIgbGluayA9IGxpc3QucmVnW2ZuLl9lZXZdO1xuXG4gICAgICAgIGxpc3QucmVnW2ZuLl9lZXZdID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGxpc3QgJiYgbGluayAmJiBsaXN0LnJlbW92ZShsaW5rKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbiAobmFtZSwgZGF0YSkge1xuICAgICAgdmFyIGV2dCA9IHRoaXMuZXZlbnRzW25hbWVdO1xuICAgICAgZXZ0ICYmIGV2dC5oZWFkLnJ1bihkYXRhKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEVldjtcbn0oKSk7XG5cbi8vIEFNRC9Db21tb25KUyBzdXBwb3J0XG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgdmFyIGRlZmluZSA9IHJvb3QuZGVmaW5lO1xuXG4gIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBFZXY7IH0pKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Vldi9lZXYuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");
},function(module,exports){eval("// removed by extract-text-webpack-plugin//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2Fzcy9zdHlsZS5zY3NzPzgyNmYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3Nhc3Mvc3R5bGUuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDIwXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("module.exports = FormData;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Zvcm0tZGF0YS9saWIvYnJvd3Nlci5qcz83MjY1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gRm9ybURhdGE7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZm9ybS1kYXRhL2xpYi9icm93c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval('/**\n * Copyright 2013-2014 Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n"use strict";\n\n/**\n * Constructs an enumeration with keys equal to their value.\n *\n * For example:\n *\n *   var COLORS = keyMirror({blue: null, red: null});\n *   var myColor = COLORS.blue;\n *   var isColorValid = !!COLORS[myColor];\n *\n * The last line could not be performed if the values of the generated enum were\n * not equal to their keys.\n *\n *   Input:  {key1: val1, key2: val2}\n *   Output: {key1: key1, key2: key2}\n *\n * @param {object} obj\n * @return {object}\n */\nvar keyMirror = function(obj) {\n  var ret = {};\n  var key;\n  if (!(obj instanceof Object && !Array.isArray(obj))) {\n    throw new Error(\'keyMirror(...): Argument must be an object.\');\n  }\n  for (key in obj) {\n    if (!obj.hasOwnProperty(key)) {\n      continue;\n    }\n    ret[key] = key;\n  }\n  return ret;\n};\n\nmodule.exports = keyMirror;\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2tleW1pcnJvci9pbmRleC5qcz8wMzc4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGFuIGVudW1lcmF0aW9uIHdpdGgga2V5cyBlcXVhbCB0byB0aGVpciB2YWx1ZS5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgIHZhciBDT0xPUlMgPSBrZXlNaXJyb3Ioe2JsdWU6IG51bGwsIHJlZDogbnVsbH0pO1xuICogICB2YXIgbXlDb2xvciA9IENPTE9SUy5ibHVlO1xuICogICB2YXIgaXNDb2xvclZhbGlkID0gISFDT0xPUlNbbXlDb2xvcl07XG4gKlxuICogVGhlIGxhc3QgbGluZSBjb3VsZCBub3QgYmUgcGVyZm9ybWVkIGlmIHRoZSB2YWx1ZXMgb2YgdGhlIGdlbmVyYXRlZCBlbnVtIHdlcmVcbiAqIG5vdCBlcXVhbCB0byB0aGVpciBrZXlzLlxuICpcbiAqICAgSW5wdXQ6ICB7a2V5MTogdmFsMSwga2V5MjogdmFsMn1cbiAqICAgT3V0cHV0OiB7a2V5MToga2V5MSwga2V5Mjoga2V5Mn1cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbnZhciBrZXlNaXJyb3IgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyIHJldCA9IHt9O1xuICB2YXIga2V5O1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBPYmplY3QgJiYgIUFycmF5LmlzQXJyYXkob2JqKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2tleU1pcnJvciguLi4pOiBBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4nKTtcbiAgfVxuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcmV0W2tleV0gPSBrZXk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5TWlycm9yO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34va2V5bWlycm9yL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval("\n/**\n * Reduce `arr` with `fn`.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Mixed} initial\n *\n * TODO: combatible error handling?\n */\n\nmodule.exports = function(arr, fn, initial){  \n  var idx = 0;\n  var len = arr.length;\n  var curr = arguments.length == 3\n    ? initial\n    : arr[idx++];\n\n  while (idx < len) {\n    curr = fn.call(null, curr, arr[idx], ++idx, arr);\n  }\n  \n  return curr;\n};//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3JlZHVjZS1jb21wb25lbnQvaW5kZXguanM/ZDc5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogUmVkdWNlIGBhcnJgIHdpdGggYGZuYC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge01peGVkfSBpbml0aWFsXG4gKlxuICogVE9ETzogY29tYmF0aWJsZSBlcnJvciBoYW5kbGluZz9cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFyciwgZm4sIGluaXRpYWwpeyAgXG4gIHZhciBpZHggPSAwO1xuICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgdmFyIGN1cnIgPSBhcmd1bWVudHMubGVuZ3RoID09IDNcbiAgICA/IGluaXRpYWxcbiAgICA6IGFycltpZHgrK107XG5cbiAgd2hpbGUgKGlkeCA8IGxlbikge1xuICAgIGN1cnIgPSBmbi5jYWxsKG51bGwsIGN1cnIsIGFycltpZHhdLCArK2lkeCwgYXJyKTtcbiAgfVxuICBcbiAgcmV0dXJuIGN1cnI7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JlZHVjZS1jb21wb25lbnQvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("/**\n * Module of mixed-in functions shared between node and client code\n */\nvar isObject = __webpack_require__(3);\n\nvar FormData = __webpack_require__(21); // browserify compatible\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nexports.clearTimeout = function _clearTimeout(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Force given parser\n *\n * Sets the body parser no matter type.\n *\n * @param {Function}\n * @api public\n */\n\nexports.parse = function parse(fn){\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nexports.timeout = function timeout(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Faux promise support\n *\n * @param {Function} fulfill\n * @param {Function} reject\n * @return {Request}\n */\n\nexports.then = function then(fulfill, reject) {\n  return this.end(function(err, res) {\n    err ? reject(err) : fulfill(res);\n  });\n}\n\n/**\n * Allow for extension\n */\n\nexports.use = function use(fn) {\n  fn(this);\n  return this;\n}\n\n\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nexports.get = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\nexports.getHeader = exports.get;\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nexports.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n */\nexports.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Write the field `name` and `val` for \"multipart/form-data\"\n * request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n * ```\n *\n * @param {String} name\n * @param {String|Blob|File|Buffer|fs.ReadStream} val\n * @return {Request} for chaining\n * @api public\n */\nexports.field = function(name, val) {\n  if (!this._formData) this._formData = new FormData();\n  this._formData.append(name, val);\n  return this;\n};\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3N1cGVyYWdlbnQvbGliL3JlcXVlc3QtYmFzZS5qcz8yMDcxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTW9kdWxlIG9mIG1peGVkLWluIGZ1bmN0aW9ucyBzaGFyZWQgYmV0d2VlbiBub2RlIGFuZCBjbGllbnQgY29kZVxuICovXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzLW9iamVjdCcpO1xuXG52YXIgRm9ybURhdGEgPSByZXF1aXJlKCdmb3JtLWRhdGEnKTsgLy8gYnJvd3NlcmlmeSBjb21wYXRpYmxlXG5cbi8qKlxuICogQ2xlYXIgcHJldmlvdXMgdGltZW91dC5cbiAqXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5jbGVhclRpbWVvdXQgPSBmdW5jdGlvbiBfY2xlYXJUaW1lb3V0KCl7XG4gIHRoaXMuX3RpbWVvdXQgPSAwO1xuICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRm9yY2UgZ2l2ZW4gcGFyc2VyXG4gKlxuICogU2V0cyB0aGUgYm9keSBwYXJzZXIgbm8gbWF0dGVyIHR5cGUuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlKGZuKXtcbiAgdGhpcy5fcGFyc2VyID0gZm47XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgdGltZW91dCB0byBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7UmVxdWVzdH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMudGltZW91dCA9IGZ1bmN0aW9uIHRpbWVvdXQobXMpe1xuICB0aGlzLl90aW1lb3V0ID0gbXM7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBGYXV4IHByb21pc2Ugc3VwcG9ydFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdFxuICogQHJldHVybiB7UmVxdWVzdH1cbiAqL1xuXG5leHBvcnRzLnRoZW4gPSBmdW5jdGlvbiB0aGVuKGZ1bGZpbGwsIHJlamVjdCkge1xuICByZXR1cm4gdGhpcy5lbmQoZnVuY3Rpb24oZXJyLCByZXMpIHtcbiAgICBlcnIgPyByZWplY3QoZXJyKSA6IGZ1bGZpbGwocmVzKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQWxsb3cgZm9yIGV4dGVuc2lvblxuICovXG5cbmV4cG9ydHMudXNlID0gZnVuY3Rpb24gdXNlKGZuKSB7XG4gIGZuKHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn1cblxuXG4vKipcbiAqIEdldCByZXF1ZXN0IGhlYWRlciBgZmllbGRgLlxuICogQ2FzZS1pbnNlbnNpdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmllbGRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5nZXQgPSBmdW5jdGlvbihmaWVsZCl7XG4gIHJldHVybiB0aGlzLl9oZWFkZXJbZmllbGQudG9Mb3dlckNhc2UoKV07XG59O1xuXG4vKipcbiAqIEdldCBjYXNlLWluc2Vuc2l0aXZlIGhlYWRlciBgZmllbGRgIHZhbHVlLlxuICogVGhpcyBpcyBhIGRlcHJlY2F0ZWQgaW50ZXJuYWwgQVBJLiBVc2UgYC5nZXQoZmllbGQpYCBpbnN0ZWFkLlxuICpcbiAqIChnZXRIZWFkZXIgaXMgbm8gbG9uZ2VyIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgc3VwZXJhZ2VudCBjb2RlIGJhc2UpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqIEBkZXByZWNhdGVkXG4gKi9cblxuZXhwb3J0cy5nZXRIZWFkZXIgPSBleHBvcnRzLmdldDtcblxuLyoqXG4gKiBTZXQgaGVhZGVyIGBmaWVsZGAgdG8gYHZhbGAsIG9yIG11bHRpcGxlIGZpZWxkcyB3aXRoIG9uZSBvYmplY3QuXG4gKiBDYXNlLWluc2Vuc2l0aXZlLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKVxuICogICAgICAgIC5zZXQoJ1gtQVBJLUtleScsICdmb29iYXInKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqICAgICAgcmVxLmdldCgnLycpXG4gKiAgICAgICAgLnNldCh7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLCAnWC1BUEktS2V5JzogJ2Zvb2JhcicgfSlcbiAqICAgICAgICAuZW5kKGNhbGxiYWNrKTtcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGZpZWxkXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5zZXQgPSBmdW5jdGlvbihmaWVsZCwgdmFsKXtcbiAgaWYgKGlzT2JqZWN0KGZpZWxkKSkge1xuICAgIGZvciAodmFyIGtleSBpbiBmaWVsZCkge1xuICAgICAgdGhpcy5zZXQoa2V5LCBmaWVsZFtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldID0gdmFsO1xuICB0aGlzLmhlYWRlcltmaWVsZF0gPSB2YWw7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgaGVhZGVyIGBmaWVsZGAuXG4gKiBDYXNlLWluc2Vuc2l0aXZlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgICByZXEuZ2V0KCcvJylcbiAqICAgICAgICAudW5zZXQoJ1VzZXItQWdlbnQnKVxuICogICAgICAgIC5lbmQoY2FsbGJhY2spO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWVsZFxuICovXG5leHBvcnRzLnVuc2V0ID0gZnVuY3Rpb24oZmllbGQpe1xuICBkZWxldGUgdGhpcy5faGVhZGVyW2ZpZWxkLnRvTG93ZXJDYXNlKCldO1xuICBkZWxldGUgdGhpcy5oZWFkZXJbZmllbGRdO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogV3JpdGUgdGhlIGZpZWxkIGBuYW1lYCBhbmQgYHZhbGAgZm9yIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiXG4gKiByZXF1ZXN0IGJvZGllcy5cbiAqXG4gKiBgYGAganNcbiAqIHJlcXVlc3QucG9zdCgnL3VwbG9hZCcpXG4gKiAgIC5maWVsZCgnZm9vJywgJ2JhcicpXG4gKiAgIC5lbmQoY2FsbGJhY2spO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfEJsb2J8RmlsZXxCdWZmZXJ8ZnMuUmVhZFN0cmVhbX0gdmFsXG4gKiBAcmV0dXJuIHtSZXF1ZXN0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMuZmllbGQgPSBmdW5jdGlvbihuYW1lLCB2YWwpIHtcbiAgaWYgKCF0aGlzLl9mb3JtRGF0YSkgdGhpcy5fZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgdGhpcy5fZm9ybURhdGEuYXBwZW5kKG5hbWUsIHZhbCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N1cGVyYWdlbnQvbGliL3JlcXVlc3QtYmFzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("// The node and browser modules expose versions of this with the\n// appropriate constructor function bound as first argument\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(RequestConstructor, method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new RequestConstructor('GET', method).end(url);\n  }\n\n  // url first\n  if (2 == arguments.length) {\n    return new RequestConstructor('GET', method);\n  }\n\n  return new RequestConstructor(method, url);\n}\n\nmodule.exports = request;\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3N1cGVyYWdlbnQvbGliL3JlcXVlc3QuanM/NjFjOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbm9kZSBhbmQgYnJvd3NlciBtb2R1bGVzIGV4cG9zZSB2ZXJzaW9ucyBvZiB0aGlzIHdpdGggdGhlXG4vLyBhcHByb3ByaWF0ZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBib3VuZCBhcyBmaXJzdCBhcmd1bWVudFxuLyoqXG4gKiBJc3N1ZSBhIHJlcXVlc3Q6XG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgcmVxdWVzdCgnR0VUJywgJy91c2VycycpLmVuZChjYWxsYmFjaylcbiAqICAgIHJlcXVlc3QoJy91c2VycycpLmVuZChjYWxsYmFjaylcbiAqICAgIHJlcXVlc3QoJy91c2VycycsIGNhbGxiYWNrKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RcbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSB1cmwgb3IgY2FsbGJhY2tcbiAqIEByZXR1cm4ge1JlcXVlc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHJlcXVlc3QoUmVxdWVzdENvbnN0cnVjdG9yLCBtZXRob2QsIHVybCkge1xuICAvLyBjYWxsYmFja1xuICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgdXJsKSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0Q29uc3RydWN0b3IoJ0dFVCcsIG1ldGhvZCkuZW5kKHVybCk7XG4gIH1cblxuICAvLyB1cmwgZmlyc3RcbiAgaWYgKDIgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdENvbnN0cnVjdG9yKCdHRVQnLCBtZXRob2QpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBSZXF1ZXN0Q29uc3RydWN0b3IobWV0aG9kLCB1cmwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVlc3Q7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zdXBlcmFnZW50L2xpYi9yZXF1ZXN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=")}]);